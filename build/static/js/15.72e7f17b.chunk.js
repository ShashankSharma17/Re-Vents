(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{812:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(129);t.a=function(e){var t=e.input,n=e.width,a=e.type,l=e.placeholder,c=e.meta,s=c.touched,i=c.error;return r.a.createElement(o.i.Field,{error:s&&!!i,width:n},r.a.createElement("input",Object.assign({},t,{placeholder:l,type:a})),s&&i&&r.a.createElement(o.o,{basic:!0,color:"red"},i))}},836:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return f});var a=n(47),r=n(806),o=n.n(r),l=n(807),c=n(832),s=n(801),i=n(159),u=n(292),p=function(e){return function(){var t=Object(l.a)(o.a.mark(function t(n,a,r){var l,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=r.getFirebase,s=l(),t.prev=2,t.next=5,s.auth().signInWithEmailAndPassword(e.email,e.password);case 5:n(Object(u.a)()),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(2),console.log(t.t0),new c.a({_error:"Login Failed"});case 12:case"end":return t.stop()}},t,null,[[2,8]])}));return function(e,n,a){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(l.a)(o.a.mark(function t(n,r,l){var s,i,p,d,m,f;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=l.getFirebase,i=l.getFirestore,p=s(),d=i(),t.prev=3,t.next=6,p.auth().createUserWithEmailAndPassword(e.email,e.password);case 6:return m=t.sent,console.log(m),t.next=10,m.updateProfile({displayName:e.displayName});case 10:return f={displayName:e.displayName,createdAt:d.FieldValue.serverTimestamp()},t.next=13,d.set("users/".concat(m.uid),Object(a.a)({},f));case 13:n(Object(u.a)()),t.next=20;break;case 16:throw t.prev=16,t.t0=t.catch(3),console.log(t.t0),new c.a({_error:t.t0.message});case 20:case"end":return t.stop()}},t,null,[[3,16]])}));return function(e,n,a){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(l.a)(o.a.mark(function t(n,a,r){var l,c,s,i,p;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=r.getFirebase,c=r.getFirestore,s=l(),i=c(),t.prev=3,n(Object(u.a)()),t.next=7,s.login({provider:e,type:"popup"});case 7:if(!(p=t.sent).additionalUserInfo.isNewUser){t.next=11;break}return t.next=11,i.set("users/".concat(p.user.uid),{displayName:p.profile.displayName,photoURL:p.profile.avatarUrl,createdAt:i.FieldValue.serverTimestamp()});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log(t.t0);case 16:case"end":return t.stop()}},t,null,[[3,13]])}));return function(e,n,a){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(l.a)(o.a.mark(function t(n,a,r){var l,u,p;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=r.getFirebase,u=l(),p=u.auth().currentUser,t.prev=3,t.next=6,p.updatePassword(e.newPassword1);case 6:return t.next=8,n(Object(s.a)("account"));case 8:i.toastr.success("Success!","Your password has been updated"),t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(3),new c.a({_error:t.t0.message});case 14:case"end":return t.stop()}},t,null,[[3,11]])}));return function(e,n,a){return t.apply(this,arguments)}}()}},965:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(158),l=n(129),c=n(292),s={closeModal:c.a},i=Object(o.connect)(null,s)(function(e){var t=e.closeModal;return r.a.createElement(l.s,{closeIcon:"close",open:!0,onClose:t},r.a.createElement(l.s.Header,null,"Test Modal"),r.a.createElement(l.s.Content,null,r.a.createElement(l.s.Description,null,r.a.createElement("p",null,"Test Modal... nothing to see here"))))}),u=n(153),p=n(154),d=n(156),m=n(155),f=n(157),b=n(838),h=n(837),g=n(812),E=n(836),v=function(e){var t=e.socialLogin;return r.a.createElement("div",null,r.a.createElement(l.a,{onClick:function(){return t("facebook")},type:"button",style:{marginBottom:"10px"},fluid:!0,color:"facebook"},r.a.createElement(l.l,{name:"facebook"})," Login with Facebook"),r.a.createElement(l.a,{onClick:function(){return t("google")},type:"button",fluid:!0,color:"google plus"},r.a.createElement(l.l,{name:"google plus"}),"Login with Google"))},w={login:E.a,socialLogin:E.c},O=Object(o.connect)(null,w)(Object(h.a)({form:"loginForm"})(function(e){var t=e.login,n=e.handleSubmit,a=e.error,o=e.socialLogin;return r.a.createElement(l.i,{size:"large",onSubmit:n(t)},r.a.createElement(l.t,null,r.a.createElement(b.a,{name:"email",component:g.a,type:"text",placeholder:"Email Address"}),r.a.createElement(b.a,{name:"password",component:g.a,type:"password",placeholder:"password"}),a&&r.a.createElement(l.o,{basic:!0,color:"red"},a),r.a.createElement(l.a,{fluid:!0,size:"large",color:"teal"},"Login"),r.a.createElement(l.f,{horizontal:!0},"Or"),r.a.createElement(v,{socialLogin:o})))})),j={closeModal:c.a},y=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(l.s,{size:"mini",open:!0,onClose:this.props.closeModal},r.a.createElement(l.s.Header,null,"Login to Re-vents"),r.a.createElement(l.s.Content,null,r.a.createElement(l.s.Description,null,r.a.createElement(O,null))))}}]),t}(a.Component),k=Object(o.connect)(null,j)(y),M=n(834),x={registerUser:E.b},C=Object(M.combineValidators)({displayName:Object(M.isRequired)("displayName"),email:Object(M.isRequired)("email"),password:Object(M.isRequired)("password")}),F=Object(o.connect)(null,x)(Object(h.a)({form:"registerForm",validate:C})(function(e){var t=e.registerUser,n=e.handleSubmit,a=e.error,o=e.invalid,c=e.submitting;return r.a.createElement("div",null,r.a.createElement(l.i,{size:"large",onSubmit:n(t)},r.a.createElement(l.t,null,r.a.createElement(b.a,{name:"displayName",type:"text",component:g.a,placeholder:"Known As"}),r.a.createElement(b.a,{name:"email",type:"text",component:g.a,placeholder:"Email"}),r.a.createElement(b.a,{name:"password",type:"password",component:g.a,placeholder:"Password"}),a&&r.a.createElement(l.o,{basic:!0,color:"red"},a),r.a.createElement(l.a,{disabled:o||c,fluid:!0,size:"large",color:"teal"},"Register"),r.a.createElement(l.f,{horizontal:!0},"Or"),r.a.createElement(v,null))))})),L={closeModal:c.a},N=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(l.s,{size:"mini",open:!0,onClose:this.props.closeModal},r.a.createElement(l.s.Header,null,"Sign Up to Re-vents!"),r.a.createElement(l.s.Content,null,r.a.createElement(l.s.Description,null,r.a.createElement(F,null))))}}]),t}(a.Component),R=Object(o.connect)(null,L)(N),U=n(30),z={closeModal:c.a,openModal:c.b},A=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleCloseModal=function(){n.props.location.pathname.includes("/event")?n.props.closeModal():(n.props.history.goBack(),n.props.closeModal())},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.openModal;return r.a.createElement(l.s,{size:"mini",open:!0,onClose:this.handleCloseModal},r.a.createElement(l.s.Header,null,"You need to be signed in to do that!"),r.a.createElement(l.s.Content,null,r.a.createElement(l.s.Description,null,r.a.createElement("p",null,"Please either login or register to see this page"),r.a.createElement(l.a.Group,{widths:4},r.a.createElement(l.a,{fluid:!0,color:"teal",onClick:function(){return e("LoginModal")}},"Login"),r.a.createElement(l.a.Or,null),r.a.createElement(l.a,{fluid:!0,positive:!0,onClick:function(){return e("RegisterModal")}},"Register")),r.a.createElement(l.f,null),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("p",null,"Or click cancel to continue as a guest"),r.a.createElement(l.a,{onClick:this.handleCloseModal},"Cancel")))))}}]),t}(a.Component),P={TestModal:i,LoginModal:k,RegisterModal:R,UnauthModal:Object(U.g)(Object(o.connect)(null,z)(A))};t.default=Object(o.connect)(function(e){return{currentModal:e.modals}})(function(e){var t,n=e.currentModal;if(n){var a=n.modalType,o=n.modalProps,l=P[a];t=r.a.createElement(l,o)}return r.a.createElement("span",null,t)})}}]);
//# sourceMappingURL=15.72e7f17b.chunk.js.map