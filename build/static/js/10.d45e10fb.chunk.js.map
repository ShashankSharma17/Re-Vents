{"version":3,"sources":["features/async/asyncActions.jsx","app/common/util/helpers.js","features/event/eventActions.jsx","../node_modules/date-fns/distance_in_words/index.js","../node_modules/date-fns/compare_desc/index.js","../node_modules/date-fns/difference_in_seconds/index.js","../node_modules/date-fns/difference_in_milliseconds/index.js","../node_modules/date-fns/difference_in_months/index.js","../node_modules/date-fns/difference_in_calendar_months/index.js","../node_modules/react-infinite-scroller/index.js","../node_modules/react-infinite-scroller/dist/InfiniteScroll.js","../node_modules/date-fns/distance_in_words_to_now/index.js","features/event/EventList/EventListAttendee.jsx","features/event/EventList/EventListItem.jsx","features/event/EventList/EventList.jsx","features/event/EventActivity/EventActivityItem.jsx","features/event/EventActivity/EventActivity.jsx","features/event/EventDashboard/EventDashboard.jsx"],"names":["__webpack_require__","d","__webpack_exports__","asyncActionStart","asyncActionFinish","asyncActionError","_asyncConstants__WEBPACK_IMPORTED_MODULE_0__","type","ASYNC_ACTION_START","ASYNC_ACTION_FINISH","ASYNC_ACTION_ERROR","objectToArray","object","Object","entries","map","e","assign","id","createNewEvent","user","photoURL","event","date","moment","toDate","E_Projects_Web_Projects_Re_Vents_revents_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","hostUid","uid","hostedBy","displayName","hostPhotoURL","created","Date","now","attendees","E_Projects_Web_Projects_Re_Vents_revents_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","going","joinDate","host","createDataTree","dataset","hashTable","create","forEach","a","childNodes","dataTree","parentId","push","createEvent","_ref2","E_Projects_Web_Projects_Re_Vents_revents_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","E_Projects_Web_Projects_Re_Vents_revents_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","mark","_callee","dispatch","getState","_ref","getFirestore","firestore","newEvent","createdEvent","wrap","_context","prev","next","auth","currentUser","firebase","profile","add","sent","set","concat","eventId","userUid","eventDate","toastr","success","t0","error","stop","_x","_x2","_x3","apply","this","arguments","updateEvent","_ref3","_callee2","eventDocRef","batch","eventAttendeeRef","eventAttendeeQuery","eventAttendeeQuerySnap","i","eventAttendeeDocRef","_context2","collection","doc","compareAsc","ordered","events","update","where","get","docs","length","commit","_x4","_x5","cancelToggle","cancelled","_ref5","_callee3","_ref4","message","_context3","confirm","onOk","console","log","_x6","_x7","_x8","getEventsForDashboard","lastEvent","_ref6","_callee4","today","eventsRef","startAfter","query","querySnap","evt","_context4","orderBy","limit","abrupt","E_Projects_Web_Projects_Re_Vents_revents_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","data","FETCH_EVENTS","payload","t1","_x9","_x10","addEventComment","values","_ref8","_callee5","_ref7","getFirebase","newComment","_context5","text","comment","_x11","_x12","_x13","compareDesc","parse","differenceInSeconds","differenceInMonths","enLocale","MINUTES_IN_DAY","MINUTES_IN_ALMOST_TWO_DAYS","MINUTES_IN_MONTH","MINUTES_IN_TWO_MONTHS","module","exports","dirtyDateToCompare","dirtyDate","dirtyOptions","options","comparison","locale","localize","distanceInWords","dateLeft","dateRight","localizeOptions","addSuffix","Boolean","months","seconds","offset","getTimezoneOffset","minutes","Math","round","includeSeconds","monthsSinceStartOfYear","years","floor","dirtyDateLeft","dirtyDateRight","timeLeft","getTime","timeRight","differenceInMilliseconds","diff","ceil","differenceInCalendarMonths","sign","difference","abs","setMonth","getMonth","getFullYear","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","default","InfiniteScroll","_Component","instance","TypeError","_classCallCheck","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","scrollListener","bind","subClass","superClass","constructor","setPrototypeOf","_inherits","Component","pageLoaded","pageStart","attachScrollListener","detachScrollListener","detachMousewheelListener","loader","defaultLoader","scrollEl","window","useWindow","scrollComponent","parentNode","removeEventListener","mousewheelListener","useCapture","hasMore","addEventListener","initialLoad","deltaY","preventDefault","el","document","documentElement","body","scrollTop","undefined","pageYOffset","isReverse","calculateTopPosition","offsetHeight","innerHeight","scrollHeight","clientHeight","Number","threshold","loadMore","offsetTop","offsetParent","_this2","_props","children","element","ref","keys","indexOf","hasOwnProperty","_objectWithoutProperties","node","childrenArray","unshift","createElement","propTypes","oneOfType","array","isRequired","string","bool","func","number","defaultProps","EventListAttendee","attendee","react_default","es","Item","as","Link","to","size","circular","src","EventListItem","Group","Image","Content","Header","title","Description","react_router_dom_es","style","top","ribbon","color","content","name","format","venue","secondary","horizontal","EventList_EventListAttendee","clearing","description","floated","EventList","_this$props","getNextEvents","loading","moreEvents","react_infinite_scroller_default","EventList_EventListItem","EventActivityItem","renderSummary","activity","User","pathname","Event","Label","alt","Summary","Meta","distanceInWordsToNow","timestamp","EventActivity","activities","contextRef","context","attached","EventActivity_EventActivityItem","actions","EventDashboard","state","loadingInitial","loadedEvents","regenerator_default","setState","handleContextRef","nextProps","toConsumableArray","_this$state","LoadingComponent","inverted","Column","width","event_EventList_EventList","event_EventActivity_EventActivity","active","connect","async","firestoreConnect"],"mappings":"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","file":"static/js/10.d45e10fb.chunk.js","sourcesContent":["import {\r\n  ASYNC_ACTION_ERROR,\r\n  ASYNC_ACTION_START,\r\n  ASYNC_ACTION_FINISH\r\n} from './asyncConstants'\r\n\r\nexport const asyncActionStart = () => {\r\n  return {\r\n    type: ASYNC_ACTION_START\r\n  }\r\n}\r\n\r\nexport const asyncActionFinish = () => {\r\n  return {\r\n    type: ASYNC_ACTION_FINISH\r\n  }\r\n}\r\n\r\nexport const asyncActionError = () => {\r\n  return {\r\n    type: ASYNC_ACTION_ERROR\r\n  }\r\n}\r\n","import moment from 'moment'\r\n\r\nexport const objectToArray = object => {\r\n  if (object) {\r\n    return Object.entries(object).map(e => Object.assign(e[1], { id: e[0] }))\r\n  }\r\n}\r\n\r\nexport const createNewEvent = (user, photoURL, event) => {\r\n  event.date = moment(event.date).toDate()\r\n  return {\r\n    ...event,\r\n    hostUid: user.uid,\r\n    hostedBy: user.displayName,\r\n    hostPhotoURL: photoURL || '/assets/user.png',\r\n    created: Date.now(),\r\n    attendees: {\r\n      [user.uid]: {\r\n        going: true,\r\n        joinDate: Date.now(),\r\n        photoURL: photoURL || '/assets/user.png',\r\n        displayName: user.displayName,\r\n        host: true\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport const createDataTree = dataset => {\r\n  let hashTable = Object.create(null)\r\n  dataset.forEach(a => (hashTable[a.id] = { ...a, childNodes: [] }))\r\n  let dataTree = []\r\n  dataset.forEach(a => {\r\n    if (a.parentId) hashTable[a.parentId].childNodes.push(hashTable[a.id])\r\n    else dataTree.push(hashTable[a.id])\r\n  })\r\n  return dataTree\r\n}\r\n","import moment from 'moment'\r\nimport { toastr } from 'react-redux-toastr'\r\nimport { createNewEvent } from '../../app/common/util/helpers'\r\nimport firebase from '../../app/config/firebase'\r\nimport {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart\r\n} from '../async/asyncActions'\r\nimport { FETCH_EVENTS } from './eventConstants'\r\nimport compareAsc from 'date-fns/compare_asc'\r\n\r\nexport const createEvent = event => {\r\n  return async (dispatch, getState, { getFirestore }) => {\r\n    const firestore = getFirestore()\r\n    const user = firestore.auth().currentUser\r\n    const photoURL = getState().firebase.profile.photoURL\r\n    let newEvent = createNewEvent(user, photoURL, event)\r\n    try {\r\n      let createdEvent = await firestore.add(`events`, newEvent)\r\n      await firestore.set(`event_attendee/${createdEvent.id}_${user.uid}`, {\r\n        eventId: createdEvent.id,\r\n        userUid: user.uid,\r\n        eventDate: event.date,\r\n        host: true\r\n      })\r\n      toastr.success('Success!', 'Event has been created')\r\n    } catch (error) {\r\n      toastr.error('Oops', 'Something went wrong')\r\n    }\r\n  }\r\n}\r\n\r\nexport const updateEvent = event => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(asyncActionStart())\r\n    const firestore = firebase.firestore()\r\n    event.date = moment(event.date).toDate()\r\n    try {\r\n      let eventDocRef = firestore.collection('events').doc(event.id)\r\n      let dateEqual = compareAsc(\r\n        getState().firestore.ordered.events[0].date,\r\n        event.date\r\n      )\r\n      if (dateEqual !== 0) {\r\n        let batch = firestore.batch()\r\n        await batch.update(eventDocRef, event)\r\n\r\n        let eventAttendeeRef = firestore.collection('event_attendee')\r\n        let eventAttendeeQuery = await eventAttendeeRef.where(\r\n          'eventId',\r\n          '==',\r\n          event.id\r\n        )\r\n        let eventAttendeeQuerySnap = await eventAttendeeQuery.get()\r\n\r\n        for (let i = 0; i < eventAttendeeQuerySnap.docs.length; i++) {\r\n          let eventAttendeeDocRef = await firestore\r\n            .collection('event_attendee')\r\n            .doc(eventAttendeeQuerySnap.docs[i].id)\r\n\r\n          await batch.update(eventAttendeeDocRef, {\r\n            eventDate: event.date\r\n          })\r\n        }\r\n        await batch.commit()\r\n      } else {\r\n        await eventDocRef.update(event)\r\n      }\r\n      dispatch(asyncActionFinish())\r\n      toastr.success('Success!', 'Event has been updated')\r\n    } catch (error) {\r\n      dispatch(asyncActionError())\r\n      toastr.error('Oops', 'Something went wrong')\r\n    }\r\n  }\r\n}\r\n\r\nexport const cancelToggle = (cancelled, eventId) => async (\r\n  dispatch,\r\n  getState,\r\n  { getFirestore }\r\n) => {\r\n  const firestore = getFirestore()\r\n  const message = cancelled\r\n    ? 'Are you sure you want to cancel the event?'\r\n    : 'This will reactivate the event - are you sure?Ì'\r\n  try {\r\n    toastr.confirm(message, {\r\n      onOk: () =>\r\n        firestore.update(`events/${eventId}`, {\r\n          cancelled: cancelled\r\n        })\r\n    })\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport const getEventsForDashboard = lastEvent => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  let today = new Date(Date.now())\r\n  const firestore = firebase.firestore()\r\n  const eventsRef = firestore.collection('events')\r\n  try {\r\n    dispatch(asyncActionStart())\r\n    let startAfter =\r\n      lastEvent &&\r\n      (await firestore\r\n        .collection('events')\r\n        .doc(lastEvent.id)\r\n        .get())\r\n    let query\r\n\r\n    lastEvent\r\n      ? (query = eventsRef\r\n          .where('date', '>=', today)\r\n          .orderBy('date')\r\n          .startAfter(startAfter)\r\n          .limit(2))\r\n      : (query = eventsRef\r\n          .where('date', '>=', today)\r\n          .orderBy('date')\r\n          .limit(2))\r\n\r\n    let querySnap = await query.get()\r\n\r\n    if (querySnap.docs.length === 0) {\r\n      dispatch(asyncActionFinish())\r\n      return querySnap\r\n    }\r\n\r\n    let events = []\r\n\r\n    for (let i = 0; i < querySnap.docs.length; i++) {\r\n      let evt = { ...querySnap.docs[i].data(), id: querySnap.docs[i].id }\r\n      events.push(evt)\r\n    }\r\n\r\n    dispatch({ type: FETCH_EVENTS, payload: { events } })\r\n    dispatch(asyncActionFinish())\r\n    return querySnap\r\n  } catch (error) {\r\n    console.log(error)\r\n    dispatch(asyncActionError())\r\n  }\r\n}\r\n\r\nexport const addEventComment = (eventId, values, parentId) => async (\r\n  dispatch,\r\n  getState,\r\n  { getFirebase }\r\n) => {\r\n  const firebase = getFirebase()\r\n  const profile = getState().firebase.profile\r\n  const user = firebase.auth().currentUser\r\n  let newComment = {\r\n    parentId: parentId,\r\n    displayName: profile.displayName,\r\n    photoURL: profile.photoURL,\r\n    uid: user.uid,\r\n    text: values.comment,\r\n    date: Date.now()\r\n  }\r\n  try {\r\n    await firebase.push(`event_chat/${eventId}`, newComment)\r\n  } catch (error) {\r\n    console.log(error)\r\n    toastr.error('Oops', 'Problem adding comment')\r\n  }\r\n}\r\n","var compareDesc = require('../compare_desc/index.js');\n\nvar parse = require('../parse/index.js');\n\nvar differenceInSeconds = require('../difference_in_seconds/index.js');\n\nvar differenceInMonths = require('../difference_in_months/index.js');\n\nvar enLocale = require('../locale/en/index.js');\n\nvar MINUTES_IN_DAY = 1440;\nvar MINUTES_IN_ALMOST_TWO_DAYS = 2520;\nvar MINUTES_IN_MONTH = 43200;\nvar MINUTES_IN_TWO_MONTHS = 86400;\n/**\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words.\n *\n * | Distance between dates                                            | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance between dates | Result               |\n * |------------------------|----------------------|\n * | 0 secs ... 5 secs      | less than 5 seconds  |\n * | 5 secs ... 10 secs     | less than 10 seconds |\n * | 10 secs ... 20 secs    | less than 20 seconds |\n * | 20 secs ... 40 secs    | half a minute        |\n * | 40 secs ... 60 secs    | less than a minute   |\n * | 60 secs ... 90 secs    | 1 minute             |\n *\n * @param {Date|String|Number} dateToCompare - the date to compare with\n * @param {Date|String|Number} date - the other date\n * @param {Object} [options] - the object with options\n * @param {Boolean} [options.includeSeconds=false] - distances less than a minute are more detailed\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\n * @param {Object} [options.locale=enLocale] - the locale object\n * @returns {String} the distance in words\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * var result = distanceInWords(\n *   new Date(2014, 6, 2),\n *   new Date(2015, 0, 1)\n * )\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00, including seconds?\n * var result = distanceInWords(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * var result = distanceInWords(\n *   new Date(2016, 0, 1),\n *   new Date(2015, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'about 1 year ago'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * var eoLocale = require('date-fns/locale/eo')\n * var result = distanceInWords(\n *   new Date(2016, 7, 1),\n *   new Date(2015, 0, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\n\nfunction distanceInWords(dirtyDateToCompare, dirtyDate, dirtyOptions) {\n  var options = dirtyOptions || {};\n  var comparison = compareDesc(dirtyDateToCompare, dirtyDate);\n  var locale = options.locale;\n  var localize = enLocale.distanceInWords.localize;\n\n  if (locale && locale.distanceInWords && locale.distanceInWords.localize) {\n    localize = locale.distanceInWords.localize;\n  }\n\n  var localizeOptions = {\n    addSuffix: Boolean(options.addSuffix),\n    comparison: comparison\n  };\n  var dateLeft, dateRight;\n\n  if (comparison > 0) {\n    dateLeft = parse(dirtyDateToCompare);\n    dateRight = parse(dirtyDate);\n  } else {\n    dateLeft = parse(dirtyDate);\n    dateRight = parse(dirtyDateToCompare);\n  }\n\n  var seconds = differenceInSeconds(dateRight, dateLeft);\n  var offset = dateRight.getTimezoneOffset() - dateLeft.getTimezoneOffset();\n  var minutes = Math.round(seconds / 60) - offset;\n  var months; // 0 up to 2 mins\n\n  if (minutes < 2) {\n    if (options.includeSeconds) {\n      if (seconds < 5) {\n        return localize('lessThanXSeconds', 5, localizeOptions);\n      } else if (seconds < 10) {\n        return localize('lessThanXSeconds', 10, localizeOptions);\n      } else if (seconds < 20) {\n        return localize('lessThanXSeconds', 20, localizeOptions);\n      } else if (seconds < 40) {\n        return localize('halfAMinute', null, localizeOptions);\n      } else if (seconds < 60) {\n        return localize('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return localize('xMinutes', 1, localizeOptions);\n      }\n    } else {\n      if (minutes === 0) {\n        return localize('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return localize('xMinutes', minutes, localizeOptions);\n      }\n    } // 2 mins up to 0.75 hrs\n\n  } else if (minutes < 45) {\n    return localize('xMinutes', minutes, localizeOptions); // 0.75 hrs up to 1.5 hrs\n  } else if (minutes < 90) {\n    return localize('aboutXHours', 1, localizeOptions); // 1.5 hrs up to 24 hrs\n  } else if (minutes < MINUTES_IN_DAY) {\n    var hours = Math.round(minutes / 60);\n    return localize('aboutXHours', hours, localizeOptions); // 1 day up to 1.75 days\n  } else if (minutes < MINUTES_IN_ALMOST_TWO_DAYS) {\n    return localize('xDays', 1, localizeOptions); // 1.75 days up to 30 days\n  } else if (minutes < MINUTES_IN_MONTH) {\n    var days = Math.round(minutes / MINUTES_IN_DAY);\n    return localize('xDays', days, localizeOptions); // 1 month up to 2 months\n  } else if (minutes < MINUTES_IN_TWO_MONTHS) {\n    months = Math.round(minutes / MINUTES_IN_MONTH);\n    return localize('aboutXMonths', months, localizeOptions);\n  }\n\n  months = differenceInMonths(dateRight, dateLeft); // 2 months up to 12 months\n\n  if (months < 12) {\n    var nearestMonth = Math.round(minutes / MINUTES_IN_MONTH);\n    return localize('xMonths', nearestMonth, localizeOptions); // 1 year up to max Date\n  } else {\n    var monthsSinceStartOfYear = months % 12;\n    var years = Math.floor(months / 12); // N years up to 1 years 3 months\n\n    if (monthsSinceStartOfYear < 3) {\n      return localize('aboutXYears', years, localizeOptions); // N years 3 months up to N years 9 months\n    } else if (monthsSinceStartOfYear < 9) {\n      return localize('overXYears', years, localizeOptions); // N years 9 months up to N year 12 months\n    } else {\n      return localize('almostXYears', years + 1, localizeOptions);\n    }\n  }\n}\n\nmodule.exports = distanceInWords;","var parse = require('../parse/index.js');\n/**\n * @category Common Helpers\n * @summary Compare the two dates reverse chronologically and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return -1 if the first date is after the second,\n * 1 if the first date is before the second or 0 if dates are equal.\n *\n * @param {Date|String|Number} dateLeft - the first date to compare\n * @param {Date|String|Number} dateRight - the second date to compare\n * @returns {Number} the result of the comparison\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989 reverse chronologically:\n * var result = compareDesc(\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * )\n * //=> 1\n *\n * @example\n * // Sort the array of dates in reverse chronological order:\n * var result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareDesc)\n * //=> [\n * //   Sun Jul 02 1995 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Wed Feb 11 1987 00:00:00\n * // ]\n */\n\n\nfunction compareDesc(dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft);\n  var timeLeft = dateLeft.getTime();\n  var dateRight = parse(dirtyDateRight);\n  var timeRight = dateRight.getTime();\n\n  if (timeLeft > timeRight) {\n    return -1;\n  } else if (timeLeft < timeRight) {\n    return 1;\n  } else {\n    return 0;\n  }\n}\n\nmodule.exports = compareDesc;","var differenceInMilliseconds = require('../difference_in_milliseconds/index.js');\n/**\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of seconds\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * var result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\n\n\nfunction differenceInSeconds(dirtyDateLeft, dirtyDateRight) {\n  var diff = differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) / 1000;\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff);\n}\n\nmodule.exports = differenceInSeconds;","var parse = require('../parse/index.js');\n/**\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * var result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\n\n\nfunction differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft);\n  var dateRight = parse(dirtyDateRight);\n  return dateLeft.getTime() - dateRight.getTime();\n}\n\nmodule.exports = differenceInMilliseconds;","var parse = require('../parse/index.js');\n\nvar differenceInCalendarMonths = require('../difference_in_calendar_months/index.js');\n\nvar compareAsc = require('../compare_asc/index.js');\n/**\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @description\n * Get the number of full months between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of full months\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * var result = differenceInMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 7\n */\n\n\nfunction differenceInMonths(dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft);\n  var dateRight = parse(dirtyDateRight);\n  var sign = compareAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarMonths(dateLeft, dateRight));\n  dateLeft.setMonth(dateLeft.getMonth() - sign * difference); // Math.abs(diff in full months - diff in calendar months) === 1 if last calendar month is not full\n  // If so, result must be decreased by 1 in absolute value\n\n  var isLastMonthNotFull = compareAsc(dateLeft, dateRight) === -sign;\n  return sign * (difference - isLastMonthNotFull);\n}\n\nmodule.exports = differenceInMonths;","var parse = require('../parse/index.js');\n/**\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar months\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * var result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\n\n\nfunction differenceInCalendarMonths(dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft);\n  var dateRight = parse(dirtyDateRight);\n  var yearDiff = dateLeft.getFullYear() - dateRight.getFullYear();\n  var monthDiff = dateLeft.getMonth() - dateRight.getMonth();\n  return yearDiff * 12 + monthDiff;\n}\n\nmodule.exports = differenceInCalendarMonths;","module.exports = require('./dist/InfiniteScroll');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar InfiniteScroll = function (_Component) {\n  _inherits(InfiniteScroll, _Component);\n\n  function InfiniteScroll(props) {\n    _classCallCheck(this, InfiniteScroll);\n\n    var _this = _possibleConstructorReturn(this, (InfiniteScroll.__proto__ || Object.getPrototypeOf(InfiniteScroll)).call(this, props));\n\n    _this.scrollListener = _this.scrollListener.bind(_this);\n    return _this;\n  }\n\n  _createClass(InfiniteScroll, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.pageLoaded = this.props.pageStart;\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.detachScrollListener();\n      this.detachMousewheelListener();\n    } // Set a defaut loader for all your `InfiniteScroll` components\n\n  }, {\n    key: 'setDefaultLoader',\n    value: function setDefaultLoader(loader) {\n      this.defaultLoader = loader;\n    }\n  }, {\n    key: 'detachMousewheelListener',\n    value: function detachMousewheelListener() {\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.removeEventListener('mousewheel', this.mousewheelListener, this.props.useCapture);\n    }\n  }, {\n    key: 'detachScrollListener',\n    value: function detachScrollListener() {\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.removeEventListener('scroll', this.scrollListener, this.props.useCapture);\n      scrollEl.removeEventListener('resize', this.scrollListener, this.props.useCapture);\n    }\n  }, {\n    key: 'attachScrollListener',\n    value: function attachScrollListener() {\n      if (!this.props.hasMore) {\n        return;\n      }\n\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.addEventListener('mousewheel', this.mousewheelListener, this.props.useCapture);\n      scrollEl.addEventListener('scroll', this.scrollListener, this.props.useCapture);\n      scrollEl.addEventListener('resize', this.scrollListener, this.props.useCapture);\n\n      if (this.props.initialLoad) {\n        this.scrollListener();\n      }\n    }\n  }, {\n    key: 'mousewheelListener',\n    value: function mousewheelListener(e) {\n      // Prevents Chrome hangups\n      // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n      if (e.deltaY === 1) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: 'scrollListener',\n    value: function scrollListener() {\n      var el = this.scrollComponent;\n      var scrollEl = window;\n      var offset = void 0;\n\n      if (this.props.useWindow) {\n        var doc = document.documentElement || document.body.parentNode || document.body;\n        var scrollTop = scrollEl.pageYOffset !== undefined ? scrollEl.pageYOffset : doc.scrollTop;\n\n        if (this.props.isReverse) {\n          offset = scrollTop;\n        } else {\n          offset = this.calculateTopPosition(el) + (el.offsetHeight - scrollTop - window.innerHeight);\n        }\n      } else if (this.props.isReverse) {\n        offset = el.parentNode.scrollTop;\n      } else {\n        offset = el.scrollHeight - el.parentNode.scrollTop - el.parentNode.clientHeight;\n      }\n\n      if (offset < Number(this.props.threshold)) {\n        this.detachScrollListener(); // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n\n        if (typeof this.props.loadMore === 'function') {\n          this.props.loadMore(this.pageLoaded += 1);\n        }\n      }\n    }\n  }, {\n    key: 'calculateTopPosition',\n    value: function calculateTopPosition(el) {\n      if (!el) {\n        return 0;\n      }\n\n      return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          children = _props.children,\n          element = _props.element,\n          hasMore = _props.hasMore,\n          initialLoad = _props.initialLoad,\n          isReverse = _props.isReverse,\n          loader = _props.loader,\n          loadMore = _props.loadMore,\n          pageStart = _props.pageStart,\n          ref = _props.ref,\n          threshold = _props.threshold,\n          useCapture = _props.useCapture,\n          useWindow = _props.useWindow,\n          props = _objectWithoutProperties(_props, ['children', 'element', 'hasMore', 'initialLoad', 'isReverse', 'loader', 'loadMore', 'pageStart', 'ref', 'threshold', 'useCapture', 'useWindow']);\n\n      props.ref = function (node) {\n        _this2.scrollComponent = node;\n\n        if (ref) {\n          ref(node);\n        }\n      };\n\n      var childrenArray = [children];\n\n      if (hasMore) {\n        if (loader) {\n          isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n        } else if (this.defaultLoader) {\n          isReverse ? childrenArray.unshift(this.defaultLoader) : childrenArray.push(this.defaultLoader);\n        }\n      }\n\n      return _react2.default.createElement(element, props, childrenArray);\n    }\n  }]);\n\n  return InfiniteScroll;\n}(_react.Component);\n\nInfiniteScroll.propTypes = {\n  children: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.array]).isRequired,\n  element: _propTypes2.default.string,\n  hasMore: _propTypes2.default.bool,\n  initialLoad: _propTypes2.default.bool,\n  isReverse: _propTypes2.default.bool,\n  loader: _propTypes2.default.object,\n  loadMore: _propTypes2.default.func.isRequired,\n  pageStart: _propTypes2.default.number,\n  ref: _propTypes2.default.func,\n  threshold: _propTypes2.default.number,\n  useCapture: _propTypes2.default.bool,\n  useWindow: _propTypes2.default.bool\n};\nInfiniteScroll.defaultProps = {\n  element: 'div',\n  hasMore: false,\n  initialLoad: true,\n  pageStart: 0,\n  ref: null,\n  threshold: 250,\n  useWindow: true,\n  isReverse: false,\n  useCapture: false,\n  loader: null\n};\nexports.default = InfiniteScroll;\nmodule.exports = exports['default'];","var distanceInWords = require('../distance_in_words/index.js');\n/**\n * @category Common Helpers\n * @summary Return the distance between the given date and now in words.\n *\n * @description\n * Return the distance between the given date and now in words.\n *\n * | Distance to now                                                   | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance to now     | Result               |\n * |---------------------|----------------------|\n * | 0 secs ... 5 secs   | less than 5 seconds  |\n * | 5 secs ... 10 secs  | less than 10 seconds |\n * | 10 secs ... 20 secs | less than 20 seconds |\n * | 20 secs ... 40 secs | half a minute        |\n * | 40 secs ... 60 secs | less than a minute   |\n * | 60 secs ... 90 secs | 1 minute             |\n *\n * @param {Date|String|Number} date - the given date\n * @param {Object} [options] - the object with options\n * @param {Boolean} [options.includeSeconds=false] - distances less than a minute are more detailed\n * @param {Boolean} [options.addSuffix=false] - result specifies if the second date is earlier or later than the first\n * @param {Object} [options.locale=enLocale] - the locale object\n * @returns {String} the distance in words\n *\n * @example\n * // If today is 1 January 2015, what is the distance to 2 July 2014?\n * var result = distanceInWordsToNow(\n *   new Date(2014, 6, 2)\n * )\n * //=> '6 months'\n *\n * @example\n * // If now is 1 January 2015 00:00:00,\n * // what is the distance to 1 January 2015 00:00:15, including seconds?\n * var result = distanceInWordsToNow(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 January 2016, with a suffix?\n * var result = distanceInWordsToNow(\n *   new Date(2016, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'in about 1 year'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 August 2016 in Esperanto?\n * var eoLocale = require('date-fns/locale/eo')\n * var result = distanceInWordsToNow(\n *   new Date(2016, 7, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\n\n\nfunction distanceInWordsToNow(dirtyDate, dirtyOptions) {\n  return distanceInWords(Date.now(), dirtyDate, dirtyOptions);\n}\n\nmodule.exports = distanceInWordsToNow;","import React, { Component } from 'react'\r\nimport { List, Image } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass EventListAttendee extends Component {\r\n  render() {\r\n    const { attendee } = this.props\r\n    return (\r\n      <List.Item>\r\n        <Image\r\n          as={Link}\r\n          to={`/profile/${attendee.id}`}\r\n          size='mini'\r\n          circular\r\n          src={attendee.photoURL}\r\n        />\r\n      </List.Item>\r\n    )\r\n  }\r\n}\r\nexport default EventListAttendee\r\n","import React, { Component } from 'react'\r\nimport { Segment, Item, Icon, List, Button, Label } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\nimport format from 'date-fns/format'\r\nimport EventListAttendee from './EventListAttendee'\r\nimport { objectToArray } from '../../../app/common/util/helpers'\r\n\r\nclass EventListItem extends Component {\r\n  render() {\r\n    const { event } = this.props\r\n    return (\r\n      <Segment.Group>\r\n        <Segment>\r\n          <Item.Group>\r\n            <Item>\r\n              <Item.Image size='tiny' circular src={event.hostPhotoURL} />\r\n              <Item.Content>\r\n                <Item.Header as={Link} to={`/event/${event.id}`}>\r\n                  {event.title}\r\n                </Item.Header>\r\n                <Item.Description>\r\n                  Hosted by{' '}\r\n                  <Link to={`/profile/${event.hostUid}`}>{event.hostedBy}</Link>\r\n                </Item.Description>\r\n                {event.cancelled && (\r\n                  <Label\r\n                    style={{ top: '-40px' }}\r\n                    ribbon='right'\r\n                    color='red'\r\n                    content='This event has been cancelled'\r\n                  />\r\n                )}\r\n              </Item.Content>\r\n            </Item>\r\n          </Item.Group>\r\n        </Segment>\r\n        <Segment>\r\n          <span>\r\n            <Icon name='clock' /> {format(event.date, 'dddd Do MMMM')} at{' '}\r\n            {format(event.date, 'HH:mm')} |\r\n            <Icon name='marker' /> {event.venue}\r\n          </span>\r\n        </Segment>\r\n        <Segment secondary>\r\n          <List horizontal>\r\n            {event.attendees &&\r\n              objectToArray(event.attendees).map(attendee => (\r\n                <EventListAttendee key={attendee.id} attendee={attendee} />\r\n              ))}\r\n          </List>\r\n        </Segment>\r\n        <Segment clearing>\r\n          <span>{event.description}</span>\r\n          <Button\r\n            as={Link}\r\n            to={`/event/${event.id}`}\r\n            color='teal'\r\n            floated='right'\r\n            content='View'\r\n          />\r\n        </Segment>\r\n      </Segment.Group>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EventListItem\r\n","import React, { Component } from 'react'\r\nimport EventListItem from './EventListItem'\r\nimport InfiniteScroll from 'react-infinite-scroller'\r\n\r\nclass EventList extends Component {\r\n  render() {\r\n    const { events, getNextEvents, loading, moreEvents } = this.props\r\n    return (\r\n      <div>\r\n        {events && events.length !== 0 && (\r\n          <InfiniteScroll\r\n            pageStart={0}\r\n            loadMore={getNextEvents}\r\n            hasMore={!loading && moreEvents}\r\n            initialLoad={false}\r\n          >\r\n            {events &&\r\n              events.map(event => (\r\n                <EventListItem key={event.id} event={event} />\r\n              ))}\r\n          </InfiniteScroll>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EventList\r\n","import React, { Component } from 'react'\nimport { Feed } from 'semantic-ui-react'\nimport { Link } from 'react-router-dom'\nimport distanceInWordsToNow from 'date-fns/distance_in_words_to_now'\n\nclass EventActivityItem extends Component {\n  renderSummary = activity => {\n    switch (activity.type) {\n      case 'newEvent':\n        return (\n          <div>\n            New Event!{' '}\n            <Feed.User\n              as={Link}\n              to={{ pathname: '/profile/' + activity.hostUid }}\n            >\n              {activity.hostedBy}\n            </Feed.User>{' '}\n            is hosting{' '}\n            <Link to={{ pathname: '/event/' + activity.eventId }}>\n              {activity.title}\n            </Link>\n          </div>\n        )\n      case 'cancelledEvent':\n        return (\n          <div>\n            Event Cancelled!{' '}\n            <Feed.User\n              as={Link}\n              to={{ pathname: '/profile/' + activity.hostUid }}\n            >\n              {activity.hostedBy}\n            </Feed.User>{' '}\n            has cancelled{' '}\n            <Link to={{ pathname: '/event/' + activity.eventId }}>\n              {activity.title}\n            </Link>\n          </div>\n        )\n      default:\n        return\n    }\n  }\n\n  render() {\n    const { activity } = this.props\n\n    return (\n      <Feed.Event>\n        <Feed.Label>\n          <img src={activity.photoURL || '/assets/user.png'} alt='' />\n        </Feed.Label>\n        <Feed.Content>\n          <Feed.Summary>{this.renderSummary(activity)}</Feed.Summary>\n          <Feed.Meta>\n            <Feed.Date>\n              {distanceInWordsToNow(activity.timestamp)} ago\n            </Feed.Date>\n          </Feed.Meta>\n        </Feed.Content>\n      </Feed.Event>\n    )\n  }\n}\n\nexport default EventActivityItem\n","import React from 'react'\nimport { Header, Segment, Feed, Sticky } from 'semantic-ui-react'\nimport EventActivityItem from './EventActivityItem'\n\nconst EventActivity = ({ activities, contextRef }) => {\n  return (\n    <Sticky context={contextRef} offset={100}>\n      <Header attached='top' content='Recent Activity' />\n      <Segment attached>\n        <Feed>\n          {activities &&\n            activities.map(activity => (\n              <EventActivityItem key={activity.id} activity={activity} />\n            ))}\n        </Feed>\n      </Segment>\n    </Sticky>\n  )\n}\n\nexport default EventActivity\n","import React, { Component } from 'react'\r\nimport { Grid, Loader } from 'semantic-ui-react'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { connect } from 'react-redux'\r\nimport EventList from '../EventList/EventList'\r\nimport { getEventsForDashboard } from '../eventActions'\r\nimport LoadingComponent from '../../../app/layout/LoadingComponent'\r\nimport EventActivity from '../EventActivity/EventActivity'\r\n\r\nconst query = [\r\n  {\r\n    collection: 'activity',\r\n    orderBy: ['timestamp', 'desc'],\r\n    limit: 5\r\n  }\r\n]\r\n\r\nconst mapState = state => ({\r\n  events: state.events,\r\n  loading: state.async.loading,\r\n  activities: state.firestore.ordered.activity\r\n})\r\n\r\nconst actions = {\r\n  getEventsForDashboard\r\n}\r\n\r\nclass EventDashboard extends Component {\r\n  state = {\r\n    moreEvents: false,\r\n    loadingInitial: true,\r\n    loadedEvents: [],\r\n    contextRef: {}\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let next = await this.props.getEventsForDashboard()\r\n    if (next && next.docs && next.docs.length > 1) {\r\n      this.setState({\r\n        moreEvents: true,\r\n        loadingInitial: false\r\n      })\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (this.props.events !== nextProps.events) {\r\n      this.setState({\r\n        loadedEvents: [...this.state.loadedEvents, ...nextProps.events]\r\n      })\r\n    }\r\n  }\r\n\r\n  getNextEvents = async () => {\r\n    const { events } = this.props\r\n    let lastEvent = events && events[events.length - 1]\r\n    let next = await this.props.getEventsForDashboard(lastEvent)\r\n    if (next && next.docs && next.docs.length <= 1) {\r\n      this.setState({\r\n        moreEvents: false\r\n      })\r\n    }\r\n  }\r\n\r\n  handleContextRef = contextRef => this.setState({ contextRef })\r\n\r\n  render() {\r\n    const { loading, activities } = this.props\r\n    const { moreEvents, loadedEvents } = this.state\r\n\r\n    if (this.state.loadingInitial) return <LoadingComponent inverted={true} />\r\n\r\n    return (\r\n      <Grid>\r\n        <Grid.Column width={10}>\r\n          <div ref={this.handleContextRef}>\r\n            <EventList\r\n              loading={loading}\r\n              moreEvents={moreEvents}\r\n              events={loadedEvents}\r\n              getNextEvents={this.getNextEvents}\r\n            />\r\n          </div>\r\n        </Grid.Column>\r\n        <Grid.Column width={6}>\r\n          <EventActivity\r\n            activities={activities}\r\n            contextRef={this.state.contextRef}\r\n          />\r\n        </Grid.Column>\r\n        <Grid.Column width={10}>\r\n          <Loader active={loading} />\r\n        </Grid.Column>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapState,\r\n  actions\r\n)(firestoreConnect(query)(EventDashboard))\r\n"],"sourceRoot":""}