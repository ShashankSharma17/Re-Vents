(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{809:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c});var r=n(162),o=function(){return{type:r.c}},a=function(){return{type:r.b}},c=function(){return{type:r.a}}},813:function(e,t){e.exports=function(e,t){var n="000000000"+e;return n.substr(n.length-t)}},816:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",function(){return r})},817:function(e,t,n){"use strict";n.d(t,"h",function(){return b}),n.d(t,"i",function(){return g}),n.d(t,"b",function(){return w}),n.d(t,"f",function(){return y}),n.d(t,"e",function(){return E}),n.d(t,"a",function(){return O}),n.d(t,"d",function(){return j}),n.d(t,"c",function(){return x}),n.d(t,"g",function(){return k});var r=n(47),o=n(26),a=n(806),c=n.n(a),i=n(816),u=n(807),s=n(808),l=n.n(s),f=n(159),d=n(830),p=n.n(d),h=n(809),v=n(219),m=n(131),b=function(e){return function(){var t=Object(u.a)(c.a.mark(function t(n,r,o){var a,u,s;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.getFirebase,u=a(),e.isLoaded,e.isEmpty,(s=Object(i.a)(e,["isLoaded","isEmpty"])).dateOfBirth!==r().firebase.profile.dateOfBirth&&(s.dateOfBirth=l()(s.dateOfBirth).toDate()),t.prev=4,t.next=7,u.updateProfile(s);case 7:f.toastr.success("Success","Profile updated"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.log(t.t0);case 13:case"end":return t.stop()}},t,null,[[4,10]])}));return function(e,n,r){return t.apply(this,arguments)}}()},g=function(e,t){return function(){var t=Object(u.a)(c.a.mark(function t(n,r,o){var a,i,u,s,l,f,d,v,m,b;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.getFirebase,i=o.getFirestore,u=p()(),s=a(),l=i(),f=s.auth().currentUser,d="".concat(f.uid,"/user_images"),v={name:u},t.prev=7,n(Object(h.c)()),t.next=11,s.uploadFile(d,e,null,v);case 11:return m=t.sent,t.next=14,m.uploadTaskSnapshot.downloadURL;case 14:return b=t.sent,t.next=17,l.get("users/".concat(f.uid));case 17:if(t.sent.data().photoURL){t.next=23;break}return t.next=21,s.updateProfile({photoURL:b});case 21:return t.next=23,f.updateProfile({photoURL:b});case 23:return t.next=25,l.add({collection:"users",doc:f.uid,subcollections:[{collection:"photos"}]},{name:u,url:b});case 25:n(Object(h.b)()),t.next=33;break;case 28:throw t.prev=28,t.t0=t.catch(7),console.log(t.t0),n(Object(h.a)()),new Error("Problem uploading photo");case 33:case"end":return t.stop()}},t,null,[[7,28]])}));return function(e,n,r){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(u.a)(c.a.mark(function t(n,r,o){var a,i,u,s,l;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.getFirebase,i=o.getFirestore,u=a(),s=i(),l=u.auth().currentUser,t.prev=4,t.next=7,u.deleteFile("".concat(l.uid,"/user_images/").concat(e.name));case 7:return t.next=9,s.delete({collection:"users",doc:l.uid,subcollections:[{collection:"photos",doc:e.id}]});case 9:t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(4),console.log(t.t0),new Error("Problem deleting the photo");case 15:case"end":return t.stop()}},t,null,[[4,11]])}));return function(e,n,r){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(u.a)(c.a.mark(function t(n,r){var a,i,u,s,l,f,d,p,m,b;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(h.c)()),a=v.a.firestore(),i=v.a.auth().currentUser,u=new Date(Date.now()),s=a.collection("users").doc(i.uid),l=a.collection("event_attendee"),t.prev=6,f=a.batch(),t.next=10,f.update(s,{photoURL:e.url});case 10:return t.next=12,l.where("userUid","==",i.uid).where("eventDate",">",u);case 12:return d=t.sent,t.next=15,d.get();case 15:p=t.sent,m=0;case 17:if(!(m<p.docs.length)){t.next=28;break}return t.next=20,a.collection("events").doc(p.docs[m].data().eventId);case 20:return b=t.sent,t.next=23,b.get();case 23:t.sent.data().hostUid===i.uid?f.update(b,Object(o.a)({hostPhotoURL:e.url},"attendees.".concat(i.uid,".photoURL"),e.url)):f.update(b,Object(o.a)({},"attendees.".concat(i.uid,".photoURL"),e.url));case 25:m++,t.next=17;break;case 28:return console.log(f),t.next=31,f.commit();case 31:n(Object(h.b)()),t.next=39;break;case 34:throw t.prev=34,t.t0=t.catch(6),console.log(t.t0),n(Object(h.a)()),new Error("Problem setting main photo");case 39:case"end":return t.stop()}},t,null,[[6,34]])}));return function(e,n){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(u.a)(c.a.mark(function t(n,r){var a,i,s,l,d,p;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(h.c)()),a=v.a.firestore(),i=v.a.auth().currentUser,s=r().firebase.profile,l={going:!0,joinDate:Date.now(),photoURL:s.photoURL||"/assets/user.png",displayName:s.displayName,host:!1},t.prev=5,d=a.collection("events").doc(e.id),p=a.collection("event_attendee").doc("".concat(e.id,"_").concat(i.uid)),t.next=10,a.runTransaction(function(){var t=Object(u.a)(c.a.mark(function t(n){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.get(d);case 2:return t.next=4,n.update(d,Object(o.a)({},"attendees.".concat(i.uid),l));case 4:return t.next=6,n.set(p,{eventId:e.id,userUid:i.uid,eventDate:e.date,host:!1});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 10:n(Object(h.b)()),f.toastr.success("Success","You have signed up to the event"),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(5),console.log(t.t0),n(Object(h.a)()),f.toastr.error("Oops","Problem signing up to event");case 19:case"end":return t.stop()}},t,null,[[5,14]])}));return function(e,n){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(u.a)(c.a.mark(function t(n,r,a){var i,u,s;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.getFirestore,u=i(),s=u.auth().currentUser,t.prev=3,t.next=6,u.update("events/".concat(e.id),Object(o.a)({},"attendees.".concat(s.uid),u.FieldValue.delete()));case 6:return t.next=8,u.delete("event_attendee/".concat(e.id,"_").concat(s.uid));case 8:f.toastr.success("Success","You have removed yourself from the event"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0),f.toastr.error("Oops","something went wrong");case 15:case"end":return t.stop()}},t,null,[[3,11]])}));return function(e,n,r){return t.apply(this,arguments)}}()},j=function(e,t){return function(){var n=Object(u.a)(c.a.mark(function n(o,a){var i,u,s,l,f,d,p,b;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o(Object(h.c)()),i=v.a.firestore(),u=new Date(Date.now()),s=i.collection("event_attendee"),n.t0=t,n.next=1===n.t0?7:2===n.t0?9:3===n.t0?11:13;break;case 7:return l=s.where("userUid","==",e).where("eventDate","<=",u).orderBy("eventDate","desc"),n.abrupt("break",14);case 9:return l=s.where("userUid","==",e).where("eventDate",">=",u).orderBy("eventDate"),n.abrupt("break",14);case 11:return l=s.where("userUid","==",e).where("host","==",!0).orderBy("eventDate","desc"),n.abrupt("break",14);case 13:l=s.where("userUid","==",e).orderBy("eventDate","desc");case 14:return n.prev=14,n.next=17,l.get();case 17:f=n.sent,d=[],p=0;case 20:if(!(p<f.docs.length)){n.next=28;break}return n.next=23,i.collection("events").doc(f.docs[p].data().eventId).get();case 23:b=n.sent,d.push(Object(r.a)({},b.data(),{id:b.id}));case 25:p++,n.next=20;break;case 28:o({type:m.c,payload:{events:d}}),o(Object(h.b)()),n.next=36;break;case 32:n.prev=32,n.t1=n.catch(14),console.log(n.t1),o(Object(h.a)());case 36:case"end":return n.stop()}},n,null,[[14,32]])}));return function(e,t){return n.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(u.a)(c.a.mark(function t(n,r,o){var a,i,u,s;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.getFirestore,i=a(),u=i.auth().currentUser,s={photoURL:e.photoURL||"/assets/user.png",city:e.city||"unknown city",displayName:e.displayName},t.prev=4,t.next=7,i.set({collection:"users",doc:u.uid,subcollections:[{collection:"following",doc:e.id}]},s);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),console.log(t.t0);case 12:case"end":return t.stop()}},t,null,[[4,9]])}));return function(e,n,r){return t.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(u.a)(c.a.mark(function t(n,r,o){var a,i,u;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.getFirestore,i=a(),u=i.auth().currentUser,t.prev=3,t.next=6,i.delete({collection:"users",doc:u.uid,subcollections:[{collection:"following",doc:e.id}]});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[3,8]])}));return function(e,n,r){return t.apply(this,arguments)}}()}},830:function(e,t,n){var r=n(831),o=n(813),a=0,c=4,i=36,u=Math.pow(i,c);function s(){return o((Math.random()*u<<0).toString(i),c)}function l(){return a=a<u?a:0,++a-1}function f(){return"c"+(new Date).getTime().toString(i)+o(l().toString(i),c)+r()+(s()+s())}f.slug=function(){var e=(new Date).getTime().toString(36),t=l().toString(36).slice(-4),n=r().slice(0,1)+r().slice(-1),o=s().slice(-2);return e.slice(-2)+t+n+o},f.fingerprint=r,e.exports=f},831:function(e,t,n){var r=n(813),o="object"===typeof window?window:self,a=Object.keys(o).length,c=r(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+a.toString(36),4);e.exports=function(){return c}},900:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.forceCheck=t.lazyload=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=p(o),c=p(n(105)),i=p(n(2)),u=n(934),s=p(n(935)),l=p(n(936)),f=p(n(937)),d=p(n(938));function p(e){return e&&e.__esModule?e:{default:e}}var h=0,v=0,m="data-lazyload-listened",b=[],g=[],w=!1;try{var y=Object.defineProperty({},"passive",{get:function(){w=!0}});window.addEventListener("test",null,y)}catch(_){}var E=!!w&&{capture:!1,passive:!0},O=function(e){var t=c.default.findDOMNode(e);if(t){var n=(0,s.default)(t);(e.props.overflow&&n!==t.ownerDocument&&n!==document&&n!==document.documentElement?function(e,t){var n=c.default.findDOMNode(e),r=void 0,o=void 0;try{var a=t.getBoundingClientRect();r=a.top,o=a.height}catch(_){r=h,o=v}var i=window.innerHeight||document.documentElement.clientHeight,u=Math.max(r,0),s=Math.min(i,r+o)-u,l=void 0,f=void 0;try{var d=n.getBoundingClientRect();l=d.top,f=d.height}catch(_){l=h,f=v}var p=l-u,m=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return p-m[0]<=s&&p+f+m[1]>=0}(e,n):function(e){var t=c.default.findDOMNode(e);if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var n=void 0,r=void 0;try{var o=t.getBoundingClientRect();n=o.top,r=o.height}catch(_){n=h,r=v}var a=window.innerHeight||document.documentElement.clientHeight,i=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return n-i[0]<=a&&n+r+i[1]>=0}(e))?e.visible||(e.props.once&&g.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},j=function(){for(var e=0;e<b.length;++e){var t=b[e];O(t)}g.forEach(function(e){var t=b.indexOf(e);-1!==t&&b.splice(t,1)}),g=[]},x=void 0,k=null,U=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.visible=!1,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){var e=!1;if(void 0!==this.props.debounce&&"throttle"===x?(console.warn("[react-lazyload] Previous delay function is `throttle`, now switching to `debounce`, try setting them unanimously"),e=!0):"debounce"===x&&void 0===this.props.debounce&&(console.warn("[react-lazyload] Previous delay function is `debounce`, now switching to `throttle`, try setting them unanimously"),e=!0),e&&((0,u.off)(window,"scroll",k,E),(0,u.off)(window,"resize",k,E),k=null),k||(void 0!==this.props.debounce?(k=(0,l.default)(j,"number"===typeof this.props.debounce?this.props.debounce:300),x="debounce"):void 0!==this.props.throttle?(k=(0,f.default)(j,"number"===typeof this.props.throttle?this.props.throttle:300),x="throttle"):k=j),this.props.overflow){var t=(0,s.default)(c.default.findDOMNode(this));if(t&&"function"===typeof t.getAttribute){var n=+t.getAttribute(m)+1;1===n&&t.addEventListener("scroll",k,E),t.setAttribute(m,n)}}else if(0===b.length||e){var r=this.props,o=r.scroll,a=r.resize;o&&(0,u.on)(window,"scroll",k,E),a&&(0,u.on)(window,"resize",k,E)}b.push(this),O(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,s.default)(c.default.findDOMNode(this));if(e&&"function"===typeof e.getAttribute){var t=+e.getAttribute(m)-1;0===t?(e.removeEventListener("scroll",k,E),e.removeAttribute(m)):e.setAttribute(m,t)}}var n=b.indexOf(this);-1!==n&&b.splice(n,1),0===b.length&&((0,u.off)(window,"resize",k,E),(0,u.off)(window,"scroll",k,E))}},{key:"render",value:function(){return this.visible?this.props.children:this.props.placeholder?this.props.placeholder:a.default.createElement("div",{style:{height:this.props.height},className:"lazyload-placeholder"})}}]),t}();U.propTypes={once:i.default.bool,height:i.default.oneOfType([i.default.number,i.default.string]),offset:i.default.oneOfType([i.default.number,i.default.arrayOf(i.default.number)]),overflow:i.default.bool,resize:i.default.bool,scroll:i.default.bool,children:i.default.node,throttle:i.default.oneOfType([i.default.number,i.default.bool]),debounce:i.default.oneOfType([i.default.number,i.default.bool]),placeholder:i.default.node,unmountIfInvisible:i.default.bool},U.defaultProps={once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};t.lazyload=d.default;t.default=U,t.forceCheck=j}).call(this,n(297))},932:function(e,t,n){var r=n(803),o=n(933),a=n(815);e.exports=function(e,t){var n=r(e),c=r(t),i=a(n,c),u=Math.abs(o(n,c));return n.setFullYear(n.getFullYear()-i*u),i*(u-(a(n,c)===-i))}},933:function(e,t,n){var r=n(803);e.exports=function(e,t){var n=r(e),o=r(t);return n.getFullYear()-o.getFullYear()}},934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,n,r){r=r||!1,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,function(t){n.call(e,t||window.event)})},t.off=function(e,t,n,r){r=r||!1,e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)}},935:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return document.documentElement;for(var t="absolute"===e.style.position,n=/(scroll|auto)/,r=e;r;){if(!r.parentNode)return e.ownerDocument||document.documentElement;var o=window.getComputedStyle(r),a=o.position,c=o.overflow,i=o["overflow-x"],u=o["overflow-y"];if("static"===a&&t)r=r.parentNode;else{if(n.test(c)&&n.test(i)&&n.test(u))return r;r=r.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},936:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=void 0,o=void 0,a=void 0,c=void 0,i=void 0,u=function u(){var s=+new Date-c;s<t&&s>=0?r=setTimeout(u,t-s):(r=null,n||(i=e.apply(a,o),r||(a=null,o=null)))};return function(){a=this,o=arguments,c=+new Date;var s=n&&!r;return r||(r=setTimeout(u,t)),s&&(i=e.apply(a,o),a=null,o=null),i}}},937:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,o;return t||(t=250),function(){var a=n||this,c=+new Date,i=arguments;r&&c<r+t?(clearTimeout(o),o=setTimeout(function(){r=c,e.apply(a,i)},t)):(r=c,e.apply(a,i))}}},938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=i(o),c=i(n(900));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return e.displayName||e.name||"Component"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return function(n){function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.displayName="LazyLoad"+u(t),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o.Component),r(i,[{key:"render",value:function(){return a.default.createElement(c.default,e,a.default.createElement(t,this.props))}}]),i}()}}},967:function(e,t,n){"use strict";n.r(t);var r=n(806),o=n.n(r),a=n(807),c=n(153),i=n(154),u=n(156),s=n(155),l=n(157),f=n(0),d=n.n(f),p=n(158),h=n(130),v=n(77),m=n(129),b=n(159),g=n(818),w=n.n(g),y=function(e){var t=e.profile;return d.a.createElement(m.j.Column,{width:12},d.a.createElement(m.t,null,d.a.createElement(m.j,{columns:2},d.a.createElement(m.j.Column,{width:10},d.a.createElement(m.k,{icon:"smile",content:"About ".concat(t.displayName)}),d.a.createElement("p",null,"I am a: ",d.a.createElement("strong",null,t.occupation||"tbn")),d.a.createElement("p",null,"Originally from ",d.a.createElement("strong",null,t.origin||"tbn")),d.a.createElement("p",null,"Member Since:"," ",d.a.createElement("strong",null,w()(t.createdAt,"D MMM YYYY"))),d.a.createElement("p",null,"Description of user")),d.a.createElement(m.j.Column,{width:6},d.a.createElement(m.k,{icon:"heart outline",content:"Interests"}),t.interests?d.a.createElement(m.p,null,t.interests&&t.interests.map(function(e,t){return d.a.createElement(m.n,{key:t},d.a.createElement(m.l,{name:"heart"}),d.a.createElement(m.n.Content,null,e))})):d.a.createElement("p",null,"No interests")))))},E=n(30),O=[{menuItem:"All Events",pane:{key:"allEvents"}},{menuItem:"Past Events",pane:{key:"pastEvents"}},{menuItem:"Future Events",pane:{key:"futureEvents"}},{menuItem:"Hosting",pane:{key:"hosted"}}],j=function(e){var t=e.events,n=e.eventsLoading,r=e.changeTab;return d.a.createElement(m.j.Column,{width:12},d.a.createElement(m.t,{attached:!0,loading:n},d.a.createElement(m.k,{icon:"calendar",content:"Events"}),d.a.createElement(m.w,{onTabChange:function(e,t){return r(e,t)},panes:O,menu:{secondary:!0,pointing:!0}}),d.a.createElement("br",null),d.a.createElement(m.b.Group,{itemsPerRow:5},t&&t.map(function(e){return d.a.createElement(m.b,{as:E.b,to:"/event/".concat(e.id),key:e.id},d.a.createElement(m.m,{src:"/assets/categoryImages/".concat(e.category,".jpg")}),d.a.createElement(m.b.Content,null,d.a.createElement(m.b.Header,{textAlign:"center"},e.title),d.a.createElement(m.b.Meta,{textAlign:"center"},d.a.createElement("div",null,w()(e.date,"DD MMM YYYY")),d.a.createElement("div",null,w()(e.date,"h:mm A")))))}))))},x=n(932),k=n.n(x),U=function(e){var t=e.profile,n=k()(Date.now(),t.dateOfBirth);return d.a.createElement(m.j.Column,{width:16},d.a.createElement(m.t,null,d.a.createElement(m.n.Group,null,d.a.createElement(m.n,null,d.a.createElement(m.n.Image,{avatar:!0,size:"small",src:t.photoURL||"/assets/user.png"}),d.a.createElement(m.n.Content,{verticalAlign:"bottom"},d.a.createElement(m.k,{as:"h1"},t.displayName),d.a.createElement("br",null),d.a.createElement(m.k,{as:"h3"},t.occupation),d.a.createElement("br",null),d.a.createElement(m.k,{as:"h3"},n||"Unknown age",", Lives in"," ",t.city||"Unknown city"))))))},_=n(900),D=n.n(_),P=function(e){var t=e.photos;return d.a.createElement(m.j.Column,{width:12},d.a.createElement(m.t,{attached:!0},d.a.createElement(m.k,{icon:"image",content:"Photos"}),d.a.createElement(m.m.Group,{size:"small"},t&&t.map(function(e){return d.a.createElement(D.a,{key:e.id,height:150,placeholder:d.a.createElement(m.m,{src:"/assets/user.png"})},d.a.createElement(m.m,{src:e.url}))}))))},C=function(e){var t=e.unfollowUser,n=e.isCurrentUser,r=e.followUser,o=e.profile,a=e.isFollowing;return d.a.createElement(m.j.Column,{width:4},d.a.createElement(m.t,null,n&&d.a.createElement(m.a,{as:E.b,to:"/settings",color:"teal",fluid:!0,basic:!0,content:"Edit Profile"}),!n&&!a&&d.a.createElement(m.a,{onClick:function(){return r(o)},color:"teal",fluid:!0,basic:!0,content:"Follow User"}),!n&&a&&d.a.createElement(m.a,{onClick:function(){return t(o)},color:"teal",fluid:!0,basic:!0,content:"Unfollow"})))},L=n(62),M=n(817),T={getUserEvents:M.d,followUser:M.c,unfollowUser:M.g},A=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).changeTab=function(e,t){n.props.getUserEvents(n.props.userUid,t.activeIndex)},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(a.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.firestore.get("users/".concat(this.props.match.params.id));case 2:return e.sent.exists||(b.toastr.error("Not found","This is not the user you are looking for"),this.props.history.push("/error")),e.next=6,this.props.getUserEvents(this.props.userUid);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.photos,r=e.auth,o=e.match,a=e.requesting,c=e.events,i=e.eventsLoading,u=e.followUser,s=e.following,l=e.unfollowUser,f=r.uid===o.params.id,p=a["users/".concat(o.params.id)],v=!Object(h.isEmpty)(s);return p?d.a.createElement(L.a,{inverted:!0}):d.a.createElement(m.j,null,d.a.createElement(U,{profile:t}),d.a.createElement(y,{profile:t}),d.a.createElement(C,{unfollowUser:l,isFollowing:v,followUser:u,profile:t,isCurrentUser:f}),n&&n.length>0&&d.a.createElement(P,{photos:n}),d.a.createElement(j,{events:c,eventsLoading:i,changeTab:this.changeTab}))}}]),t}(f.Component);t.default=Object(v.compose)(Object(p.connect)(function(e,t){var n=null,r={};return t.match.params.id===e.auth.uid?r=e.firebase.profile:(r=!Object(h.isEmpty)(e.firestore.ordered.profile)&&e.firestore.ordered.profile[0],n=t.match.params.id),{profile:r,userUid:n,events:e.events,eventsLoading:e.async.loading,auth:e.firebase.auth,photos:e.firestore.ordered.photos,requesting:e.firestore.status.requesting,following:e.firestore.ordered.following}},T),Object(h.firestoreConnect)(function(e,t,n){return function(e){var t=e.auth,n=e.userUid,r=e.match;return null!==n?[{collection:"users",doc:n,storeAs:"profile"},{collection:"users",doc:n,subcollections:[{collection:"photos"}],storeAs:"photos"},{collection:"users",doc:t.uid,subcollections:[{collection:"following",doc:r.params.id}],storeAs:"following"}]:[{collection:"users",doc:t.uid,subcollections:[{collection:"photos"}],storeAs:"photos"}]}(e)}))(A)}}]);
//# sourceMappingURL=9.bc6c467c.chunk.js.map