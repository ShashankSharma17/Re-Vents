{"version":3,"sources":["features/async/asyncActions.jsx","app/common/form/TextInput.jsx","features/user/userActions.jsx","app/common/form/TextArea.jsx","app/common/form/PlaceInput.jsx","features/auth/authActions.jsx","app/common/form/SelectInput.jsx","app/common/form/DateInput.jsx","features/user/Settings/SettingsNav.jsx","app/common/form/RadioInput.jsx","features/user/Settings/BasicPage.jsx","features/user/Settings/AboutPage.jsx","features/user/Settings/PhotosPage.jsx","features/user/Settings/AccountPage.jsx","features/user/Settings/SettingsDashboard.jsx"],"names":["__webpack_require__","d","__webpack_exports__","asyncActionStart","asyncActionFinish","asyncActionError","_asyncConstants__WEBPACK_IMPORTED_MODULE_0__","type","ASYNC_ACTION_START","ASYNC_ACTION_FINISH","ASYNC_ACTION_ERROR","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__","TextInput","_ref","input","width","placeholder","_ref$meta","meta","touched","error","a","createElement","Field","Object","assign","basic","color","updateProfile","user","_ref2","E_Projects_Web_Projects_Re_Vents_revents_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","E_Projects_Web_Projects_Re_Vents_revents_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","mark","_callee","dispatch","getState","getFirebase","firebase","updatedUser","wrap","_context","prev","next","isLoaded","isEmpty","E_Projects_Web_Projects_Re_Vents_revents_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__","dateOfBirth","profile","moment","toDate","toastr","success","t0","console","log","stop","_x","_x2","_x3","apply","this","arguments","uploadProfileImage","file","fileName","_ref4","_callee2","_ref3","getFirestore","imageName","firestore","path","options","uploadedFile","downloadURL","_context2","cuid","auth","currentUser","concat","uid","name","uploadFile","sent","uploadTaskSnapshot","get","data","photoURL","add","collection","doc","subcollections","url","Error","_x4","_x5","_x6","deletePhoto","photo","_ref6","_callee3","_ref5","_context3","deleteFile","delete","id","_x7","_x8","_x9","setMainPhoto","_ref7","_callee4","today","userDocRef","eventAttendeeRef","batch","eventQuery","eventQuerySnap","i","eventDocRef","_context4","Date","now","update","where","docs","length","eventId","hostUid","E_Projects_Web_Projects_Re_Vents_revents_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","hostPhotoURL","commit","_x10","_x11","goingToEvent","event","_ref8","_callee6","attendee","eventAttendeeDocRef","_context6","going","joinDate","displayName","host","runTransaction","_ref9","_callee5","transaction","_context5","set","userUid","eventDate","date","_x14","_x12","_x13","cancelGoingToEvent","_ref11","_callee7","_ref10","_context7","FieldValue","_x15","_x16","_x17","getUserEvents","activeTab","_ref12","_callee8","eventsRef","query","querySnap","events","evt","_context8","orderBy","abrupt","push","E_Projects_Web_Projects_Re_Vents_revents_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","FETCH_EVENTS","payload","t1","_x18","_x19","followUser","userToFollow","_ref14","_callee9","_ref13","following","_context9","city","_x20","_x21","_x22","unfollowUser","userToUnfollow","_ref16","_callee10","_ref15","_context10","_x23","_x24","_x25","TextArea","rows","styles","autocompleteContainer","zIndex","PlaceInput","state","scriptLoaded","handleScriptLoaded","_this","setState","_this$props","props","onSelect","_this$props$meta","react__WEBPACK_IMPORTED_MODULE_6___default","semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__","react_load_script__WEBPACK_IMPORTED_MODULE_8___default","onLoad","react_places_autocomplete__WEBPACK_IMPORTED_MODULE_9___default","inputProps","Component","login","creds","E_Projects_Web_Projects_Re_Vents_revents_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","E_Projects_Web_Projects_Re_Vents_revents_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","signInWithEmailAndPassword","email","password","closeModal","SubmissionError","_error","registerUser","createdUser","newUser","createUserWithEmailAndPassword","createdAt","serverTimestamp","message","socialLogin","selectedProvider","provider","additionalUserInfo","isNewUser","avatarUrl","updatePassword","newPassword1","reset","SelectInput","multiple","value","onChange","e","DateInput","_ref$input","restInput","E_Projects_Web_Projects_Re_Vents_revents_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","rest","react__WEBPACK_IMPORTED_MODULE_1___default","semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__","react_datepicker__WEBPACK_IMPORTED_MODULE_3__","placeholderText","selected","SettingsNav","react_default","dist_es","Column","vertical","icon","attached","inverted","content","Item","as","NavLink","to","Row","RadioInput","label","className","BasicPage","pristine","submitting","handleSubmit","dividing","size","onSubmit","component","Group","inline","dateFormat","showYearDropdown","showMonthDropdown","dropdownMode","maxDate","subtract","types","disabled","positive","reduxForm","form","enableReinitialize","destroyOnUnmount","interests","key","text","actions","PhotosPage","files","cropResult","image","uploadImage","regenerator_default","cancelCrop","handlePhotoDelete","asyncToGenerator","handleSetMainPhoto","cropImage","refs","cropper","getCroppedCanvas","toBlob","blob","imageUrl","URL","createObjectURL","onDrop","filteredPhotos","_this2","photos","loading","filter","sub","react_dropzone_dist_es","style","paddingTop","textAlign","react_cropper_default","height","ref","src","preview","aspectRatio","viewMode","dragMode","guides","scalable","cropBoxMovable","cropBoxResizable","crop","minHeight","minWidth","onClick","itemsPerRow","map","compose","connect","ordered","async","firestoreConnect","storeAs","validate","combineValidators","isRequired","newPassword2","composeValidators","matchesField","invalid","providerId","pointing","providerData","react_router_dom_es","exact","from","render","Settings_BasicPage","initialValues","Settings_AboutPage","Settings_AccountPage","Settings_SettingsNav"],"mappings":"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","file":"static/js/13.584bd361.chunk.js","sourcesContent":["import {\r\n  ASYNC_ACTION_ERROR,\r\n  ASYNC_ACTION_START,\r\n  ASYNC_ACTION_FINISH\r\n} from './asyncConstants'\r\n\r\nexport const asyncActionStart = () => {\r\n  return {\r\n    type: ASYNC_ACTION_START\r\n  }\r\n}\r\n\r\nexport const asyncActionFinish = () => {\r\n  return {\r\n    type: ASYNC_ACTION_FINISH\r\n  }\r\n}\r\n\r\nexport const asyncActionError = () => {\r\n  return {\r\n    type: ASYNC_ACTION_ERROR\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Form, Label } from 'semantic-ui-react'\r\n\r\nconst TextInput = ({\r\n  input,\r\n  width,\r\n  type,\r\n  placeholder,\r\n  meta: { touched, error }\r\n}) => {\r\n  return (\r\n    <Form.Field error={touched && !!error} width={width}>\r\n      <input {...input} placeholder={placeholder} type={type} />\r\n      {touched && error && (\r\n        <Label basic color='red'>\r\n          {error}\r\n        </Label>\r\n      )}\r\n    </Form.Field>\r\n  )\r\n}\r\n\r\nexport default TextInput\r\n","import moment from 'moment'\r\nimport { toastr } from 'react-redux-toastr'\r\nimport cuid from 'cuid'\r\nimport {\r\n  asyncActionError,\r\n  asyncActionStart,\r\n  asyncActionFinish\r\n} from '../async/asyncActions'\r\nimport firebase from '../../app/config/firebase'\r\nimport { FETCH_EVENTS } from '../event/eventConstants'\r\n\r\nexport const updateProfile = user => async (\r\n  dispatch,\r\n  getState,\r\n  { getFirebase }\r\n) => {\r\n  const firebase = getFirebase()\r\n  const { isLoaded, isEmpty, ...updatedUser } = user\r\n  if (updatedUser.dateOfBirth !== getState().firebase.profile.dateOfBirth) {\r\n    updatedUser.dateOfBirth = moment(updatedUser.dateOfBirth).toDate()\r\n  }\r\n\r\n  try {\r\n    await firebase.updateProfile(updatedUser)\r\n    toastr.success('Success', 'Profile updated')\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport const uploadProfileImage = (file, fileName) => async (\r\n  dispatch,\r\n  getState,\r\n  { getFirebase, getFirestore }\r\n) => {\r\n  const imageName = cuid()\r\n  const firebase = getFirebase()\r\n  const firestore = getFirestore()\r\n  const user = firebase.auth().currentUser\r\n  const path = `${user.uid}/user_images`\r\n  const options = {\r\n    name: imageName\r\n  }\r\n  try {\r\n    dispatch(asyncActionStart())\r\n    // upload the file to fb storage\r\n    let uploadedFile = await firebase.uploadFile(path, file, null, options)\r\n    // get url of image\r\n    let downloadURL = await uploadedFile.uploadTaskSnapshot.downloadURL\r\n    // get the userdoc from firestore\r\n    let userDoc = await firestore.get(`users/${user.uid}`)\r\n    // check if user has photo, if not update profile\r\n    if (!userDoc.data().photoURL) {\r\n      await firebase.updateProfile({\r\n        photoURL: downloadURL\r\n      })\r\n      await user.updateProfile({\r\n        photoURL: downloadURL\r\n      })\r\n    }\r\n    // add the new photo to photos collection\r\n    await firestore.add(\r\n      {\r\n        collection: 'users',\r\n        doc: user.uid,\r\n        subcollections: [{ collection: 'photos' }]\r\n      },\r\n      {\r\n        name: imageName,\r\n        url: downloadURL\r\n      }\r\n    )\r\n    dispatch(asyncActionFinish())\r\n  } catch (error) {\r\n    console.log(error)\r\n    dispatch(asyncActionError())\r\n    throw new Error('Problem uploading photo')\r\n  }\r\n}\r\n\r\nexport const deletePhoto = photo => async (\r\n  dispatch,\r\n  getState,\r\n  { getFirebase, getFirestore }\r\n) => {\r\n  const firebase = getFirebase()\r\n  const firestore = getFirestore()\r\n  const user = firebase.auth().currentUser\r\n  try {\r\n    await firebase.deleteFile(`${user.uid}/user_images/${photo.name}`)\r\n    await firestore.delete({\r\n      collection: 'users',\r\n      doc: user.uid,\r\n      subcollections: [{ collection: 'photos', doc: photo.id }]\r\n    })\r\n  } catch (error) {\r\n    console.log(error)\r\n    throw new Error('Problem deleting the photo')\r\n  }\r\n}\r\n\r\nexport const setMainPhoto = photo => async (dispatch, getState) => {\r\n  dispatch(asyncActionStart())\r\n  const firestore = firebase.firestore()\r\n  const user = firebase.auth().currentUser\r\n  const today = new Date(Date.now())\r\n  let userDocRef = firestore.collection('users').doc(user.uid)\r\n  let eventAttendeeRef = firestore.collection('event_attendee')\r\n  try {\r\n    let batch = firestore.batch()\r\n\r\n    await batch.update(userDocRef, {\r\n      photoURL: photo.url\r\n    })\r\n\r\n    let eventQuery = await eventAttendeeRef\r\n      .where('userUid', '==', user.uid)\r\n      .where('eventDate', '>', today)\r\n\r\n    let eventQuerySnap = await eventQuery.get()\r\n\r\n    for (let i = 0; i < eventQuerySnap.docs.length; i++) {\r\n      let eventDocRef = await firestore\r\n        .collection('events')\r\n        .doc(eventQuerySnap.docs[i].data().eventId)\r\n      let event = await eventDocRef.get()\r\n      if (event.data().hostUid === user.uid) {\r\n        batch.update(eventDocRef, {\r\n          hostPhotoURL: photo.url,\r\n          [`attendees.${user.uid}.photoURL`]: photo.url\r\n        })\r\n      } else {\r\n        batch.update(eventDocRef, {\r\n          [`attendees.${user.uid}.photoURL`]: photo.url\r\n        })\r\n      }\r\n    }\r\n    console.log(batch)\r\n    await batch.commit()\r\n    dispatch(asyncActionFinish())\r\n  } catch (error) {\r\n    console.log(error)\r\n    dispatch(asyncActionError())\r\n    throw new Error('Problem setting main photo')\r\n  }\r\n}\r\n\r\nexport const goingToEvent = event => async (dispatch, getState) => {\r\n  dispatch(asyncActionStart())\r\n  const firestore = firebase.firestore()\r\n  const user = firebase.auth().currentUser\r\n  const profile = getState().firebase.profile\r\n  const attendee = {\r\n    going: true,\r\n    joinDate: Date.now(),\r\n    photoURL: profile.photoURL || '/assets/user.png',\r\n    displayName: profile.displayName,\r\n    host: false\r\n  }\r\n  try {\r\n    let eventDocRef = firestore.collection('events').doc(event.id)\r\n    let eventAttendeeDocRef = firestore\r\n      .collection('event_attendee')\r\n      .doc(`${event.id}_${user.uid}`)\r\n\r\n    await firestore.runTransaction(async transaction => {\r\n      await transaction.get(eventDocRef)\r\n      await transaction.update(eventDocRef, {\r\n        [`attendees.${user.uid}`]: attendee\r\n      })\r\n      await transaction.set(eventAttendeeDocRef, {\r\n        eventId: event.id,\r\n        userUid: user.uid,\r\n        eventDate: event.date,\r\n        host: false\r\n      })\r\n    })\r\n    dispatch(asyncActionFinish())\r\n    toastr.success('Success', 'You have signed up to the event')\r\n  } catch (error) {\r\n    console.log(error)\r\n    dispatch(asyncActionError())\r\n    toastr.error('Oops', 'Problem signing up to event')\r\n  }\r\n}\r\n\r\nexport const cancelGoingToEvent = event => async (\r\n  dispatch,\r\n  getState,\r\n  { getFirestore }\r\n) => {\r\n  const firestore = getFirestore()\r\n  const user = firestore.auth().currentUser\r\n  try {\r\n    await firestore.update(`events/${event.id}`, {\r\n      [`attendees.${user.uid}`]: firestore.FieldValue.delete()\r\n    })\r\n    await firestore.delete(`event_attendee/${event.id}_${user.uid}`)\r\n    toastr.success('Success', 'You have removed yourself from the event')\r\n  } catch (error) {\r\n    console.log(error)\r\n    toastr.error('Oops', 'something went wrong')\r\n  }\r\n}\r\n\r\nexport const getUserEvents = (userUid, activeTab) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  dispatch(asyncActionStart())\r\n  const firestore = firebase.firestore()\r\n  const today = new Date(Date.now())\r\n  let eventsRef = firestore.collection('event_attendee')\r\n  let query\r\n  switch (activeTab) {\r\n    case 1: // past events\r\n      query = eventsRef\r\n        .where('userUid', '==', userUid)\r\n        .where('eventDate', '<=', today)\r\n        .orderBy('eventDate', 'desc')\r\n      break\r\n    case 2: // future events\r\n      query = eventsRef\r\n        .where('userUid', '==', userUid)\r\n        .where('eventDate', '>=', today)\r\n        .orderBy('eventDate')\r\n      break\r\n    case 3: // hosted events\r\n      query = eventsRef\r\n        .where('userUid', '==', userUid)\r\n        .where('host', '==', true)\r\n        .orderBy('eventDate', 'desc')\r\n      break\r\n    default:\r\n      query = eventsRef\r\n        .where('userUid', '==', userUid)\r\n        .orderBy('eventDate', 'desc')\r\n  }\r\n  try {\r\n    let querySnap = await query.get()\r\n    let events = []\r\n\r\n    for (let i = 0; i < querySnap.docs.length; i++) {\r\n      let evt = await firestore\r\n        .collection('events')\r\n        .doc(querySnap.docs[i].data().eventId)\r\n        .get()\r\n      events.push({ ...evt.data(), id: evt.id })\r\n    }\r\n\r\n    dispatch({ type: FETCH_EVENTS, payload: { events } })\r\n\r\n    dispatch(asyncActionFinish())\r\n  } catch (error) {\r\n    console.log(error)\r\n    dispatch(asyncActionError())\r\n  }\r\n}\r\n\r\nexport const followUser = userToFollow => async (\r\n  dispatch,\r\n  getState,\r\n  { getFirestore }\r\n) => {\r\n  const firestore = getFirestore()\r\n  const user = firestore.auth().currentUser\r\n  const following = {\r\n    photoURL: userToFollow.photoURL || '/assets/user.png',\r\n    city: userToFollow.city || 'unknown city',\r\n    displayName: userToFollow.displayName\r\n  }\r\n  try {\r\n    await firestore.set(\r\n      {\r\n        collection: 'users',\r\n        doc: user.uid,\r\n        subcollections: [{ collection: 'following', doc: userToFollow.id }]\r\n      },\r\n      following\r\n    )\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport const unfollowUser = userToUnfollow => async (\r\n  dispatch,\r\n  getState,\r\n  { getFirestore }\r\n) => {\r\n  const firestore = getFirestore()\r\n  const user = firestore.auth().currentUser\r\n  try {\r\n    await firestore.delete({\r\n      collection: 'users',\r\n      doc: user.uid,\r\n      subcollections: [{ collection: 'following', doc: userToUnfollow.id }]\r\n    })\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Form, Label } from 'semantic-ui-react'\r\n\r\nconst TextArea = ({\r\n  input,\r\n  rows,\r\n  type,\r\n  placeholder,\r\n  meta: { touched, error }\r\n}) => {\r\n  return (\r\n    <Form.Field error={touched && !!error}>\r\n      <textarea {...input} placeholder={placeholder} rows={rows} />\r\n      {touched && error && (\r\n        <Label basic color='red'>\r\n          {error}\r\n        </Label>\r\n      )}\r\n    </Form.Field>\r\n  )\r\n}\r\n\r\nexport default TextArea\r\n","import React, { Component } from 'react'\r\nimport { Form, Label } from 'semantic-ui-react'\r\nimport Script from 'react-load-script'\r\nimport PlacesAutocomplete from 'react-places-autocomplete'\r\n\r\nconst styles = {\r\n  autocompleteContainer: {\r\n    zIndex: 1000\r\n  }\r\n}\r\n\r\nclass PlaceInput extends Component {\r\n  state = {\r\n    scriptLoaded: false\r\n  }\r\n\r\n  handleScriptLoaded = () => this.setState({ scriptLoaded: true })\r\n\r\n  render() {\r\n    const {\r\n      input,\r\n      width,\r\n      onSelect,\r\n      placeholder,\r\n      options,\r\n      meta: { touched, error }\r\n    } = this.props\r\n    return (\r\n      <Form.Field error={touched && !!error} width={width}>\r\n        <Script\r\n          url='https://maps.googleapis.com/maps/api/js?key=AIzaSyDUX8SIqI2_TkxTUFkNQeqIyO4urAqgrt0&libraries=places'\r\n          onLoad={this.handleScriptLoaded}\r\n        />\r\n        {this.state.scriptLoaded && (\r\n          <PlacesAutocomplete\r\n            inputProps={{ ...input, placeholder }}\r\n            options={options}\r\n            onSelect={onSelect}\r\n            styles={styles}\r\n          />\r\n        )}\r\n        {touched && error && (\r\n          <Label basic color='red'>\r\n            {error}\r\n          </Label>\r\n        )}\r\n      </Form.Field>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PlaceInput\r\n","import { SubmissionError, reset } from 'redux-form'\r\nimport { toastr } from 'react-redux-toastr'\r\nimport { closeModal } from '../modals/modalActions'\r\n\r\nexport const login = creds => {\r\n  return async (dispatch, getState, { getFirebase }) => {\r\n    const firebase = getFirebase()\r\n    try {\r\n      await firebase\r\n        .auth()\r\n        .signInWithEmailAndPassword(creds.email, creds.password)\r\n      dispatch(closeModal())\r\n    } catch (error) {\r\n      console.log(error)\r\n      throw new SubmissionError({\r\n        _error: 'Login Failed'\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const registerUser = user => async (\r\n  dispatch,\r\n  getState,\r\n  { getFirebase, getFirestore }\r\n) => {\r\n  const firebase = getFirebase()\r\n  const firestore = getFirestore()\r\n  try {\r\n    // create the user in firebase auth\r\n    let createdUser = await firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(user.email, user.password)\r\n    console.log(createdUser)\r\n    // update the auth profile\r\n    await createdUser.updateProfile({\r\n      displayName: user.displayName\r\n    })\r\n    // create a new profile in firestore\r\n    let newUser = {\r\n      displayName: user.displayName,\r\n      createdAt: firestore.FieldValue.serverTimestamp()\r\n    }\r\n    await firestore.set(`users/${createdUser.uid}`, { ...newUser })\r\n    dispatch(closeModal())\r\n  } catch (error) {\r\n    console.log(error)\r\n    throw new SubmissionError({\r\n      _error: error.message\r\n    })\r\n  }\r\n}\r\n\r\nexport const socialLogin = selectedProvider => async (\r\n  dispatch,\r\n  getState,\r\n  { getFirebase, getFirestore }\r\n) => {\r\n  const firebase = getFirebase()\r\n  const firestore = getFirestore()\r\n  try {\r\n    dispatch(closeModal())\r\n    let user = await firebase.login({\r\n      provider: selectedProvider,\r\n      type: 'popup'\r\n    })\r\n    if (user.additionalUserInfo.isNewUser) {\r\n      await firestore.set(`users/${user.user.uid}`, {\r\n        displayName: user.profile.displayName,\r\n        photoURL: user.profile.avatarUrl,\r\n        createdAt: firestore.FieldValue.serverTimestamp()\r\n      })\r\n    }\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport const updatePassword = creds => async (\r\n  dispatch,\r\n  getState,\r\n  { getFirebase }\r\n) => {\r\n  const firebase = getFirebase()\r\n  const user = firebase.auth().currentUser\r\n  try {\r\n    await user.updatePassword(creds.newPassword1)\r\n    await dispatch(reset('account'))\r\n    toastr.success('Success!', 'Your password has been updated')\r\n  } catch (error) {\r\n    throw new SubmissionError({\r\n      _error: error.message\r\n    })\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Form, Label, Select } from 'semantic-ui-react'\r\n\r\nconst SelectInput = ({\r\n  input,\r\n  type,\r\n  placeholder,\r\n  multiple,\r\n  options,\r\n  meta: { touched, error }\r\n}) => {\r\n  return (\r\n    <Form.Field error={touched && !!error}>\r\n      <Select\r\n        value={input.value || null}\r\n        onChange={(e, data) => input.onChange(data.value)}\r\n        placeholder={placeholder}\r\n        options={options}\r\n        multiple={multiple}\r\n      />\r\n      {touched && error && (\r\n        <Label basic color='red'>\r\n          {error}\r\n        </Label>\r\n      )}\r\n    </Form.Field>\r\n  )\r\n}\r\n\r\nexport default SelectInput\r\n","import React from 'react'\r\nimport { Form, Label } from 'semantic-ui-react'\r\nimport DatePicker from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport moment from 'moment'\r\n\r\nconst DateInput = ({\r\n  input: { value, onChange, ...restInput },\r\n  width,\r\n  placeholder,\r\n  meta: { touched, error },\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Form.Field error={touched && !!error} width={width}>\r\n      <DatePicker\r\n        {...rest}\r\n        placeholderText={placeholder}\r\n        selected={value ? moment(value) : null}\r\n        onChange={onChange}\r\n        {...restInput}\r\n      />\r\n      {touched && error && (\r\n        <Label basic color='red'>\r\n          {error}\r\n        </Label>\r\n      )}\r\n    </Form.Field>\r\n  )\r\n}\r\n\r\nexport default DateInput\r\n","import React from 'react'\r\nimport { Grid, Menu, Header } from 'semantic-ui-react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst SettingsNav = () => {\r\n  return (\r\n    <Grid.Column width={4}>\r\n      <Menu vertical>\r\n        <Header icon='user' attached inverted color='grey' content='Profile' />\r\n        <Menu.Item as={NavLink} to='/settings/basic'>\r\n          Basics\r\n        </Menu.Item>\r\n        <Menu.Item as={NavLink} to='/settings/about'>\r\n          About Me\r\n        </Menu.Item>\r\n        <Menu.Item as={NavLink} to='/settings/photos'>\r\n          My Photos\r\n        </Menu.Item>\r\n      </Menu>\r\n      <Grid.Row />\r\n      <Menu vertical>\r\n        <Header\r\n          icon='settings'\r\n          attached\r\n          inverted\r\n          color='grey'\r\n          content='Account'\r\n        />\r\n        <Menu.Item as={NavLink} to='/settings/account'>\r\n          My Account\r\n        </Menu.Item>\r\n      </Menu>\r\n    </Grid.Column>\r\n  )\r\n}\r\n\r\nexport default SettingsNav\r\n","import React from 'react'\r\nimport { Form } from 'semantic-ui-react'\r\n\r\nconst RadioInput = ({ input, width, type, label }) => {\r\n  return (\r\n    <Form.Field>\r\n      <div className='ui radio'>\r\n        <input {...input} type={type} /> <label>{label}</label>\r\n      </div>\r\n    </Form.Field>\r\n  )\r\n}\r\n\r\nexport default RadioInput\r\n","import React, { Component } from 'react'\r\nimport { Segment, Form, Header, Divider, Button } from 'semantic-ui-react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport moment from 'moment'\r\nimport DateInput from '../../../app/common/form/DateInput'\r\nimport PlaceInput from '../../../app/common/form/PlaceInput'\r\nimport TextInput from '../../../app/common/form/TextInput'\r\nimport RadioInput from '../../../app/common/form/RadioInput'\r\n\r\nclass BasicPage extends Component {\r\n  render() {\r\n    const { pristine, submitting, handleSubmit, updateProfile } = this.props\r\n    return (\r\n      <Segment>\r\n        <Header dividing size='large' content='Basics' />\r\n        <Form onSubmit={handleSubmit(updateProfile)}>\r\n          <Field\r\n            width={8}\r\n            name='displayName'\r\n            type='text'\r\n            component={TextInput}\r\n            placeholder='Known As'\r\n          />\r\n          <Form.Group inline>\r\n            <label>Gender: </label>\r\n            <Field\r\n              name='gender'\r\n              type='radio'\r\n              value='male'\r\n              label='Male'\r\n              component={RadioInput}\r\n            />\r\n            <Field\r\n              name='gender'\r\n              type='radio'\r\n              value='female'\r\n              label='Female'\r\n              component={RadioInput}\r\n            />\r\n          </Form.Group>\r\n          <Field\r\n            width={8}\r\n            name='dateOfBirth'\r\n            component={DateInput}\r\n            placeholder='Date of Birth'\r\n            dateFormat='YYYY-MM-DD'\r\n            showYearDropdown={true}\r\n            showMonthDropdown={true}\r\n            dropdownMode='select'\r\n            maxDate={moment().subtract(18, 'years')}\r\n          />\r\n          <Field\r\n            name='city'\r\n            placeholder='Home Town'\r\n            options={{ types: ['(cities)'] }}\r\n            label='Female'\r\n            component={PlaceInput}\r\n            width={8}\r\n          />\r\n          <Divider />\r\n          <Button\r\n            disabled={pristine || submitting}\r\n            size='large'\r\n            positive\r\n            content='Update Profile'\r\n          />\r\n        </Form>\r\n      </Segment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default reduxForm({\r\n  form: 'userProfile',\r\n  enableReinitialize: true,\r\n  destroyOnUnmount: false\r\n})(BasicPage)\r\n","import React from 'react'\r\nimport { Button, Divider, Form, Header, Segment } from 'semantic-ui-react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport RadioInput from '../../../app/common/form/RadioInput'\r\nimport TextInput from '../../../app/common/form/TextInput'\r\nimport TextArea from '../../../app/common/form/TextArea'\r\nimport PlaceInput from '../../../app/common/form/PlaceInput'\r\nimport SelectInput from '../../../app/common/form/SelectInput'\r\n\r\nconst interests = [\r\n  { key: 'drinks', text: 'Drinks', value: 'drinks' },\r\n  { key: 'culture', text: 'Culture', value: 'culture' },\r\n  { key: 'film', text: 'Film', value: 'film' },\r\n  { key: 'food', text: 'Food', value: 'food' },\r\n  { key: 'music', text: 'Music', value: 'music' },\r\n  { key: 'travel', text: 'Travel', value: 'travel' }\r\n]\r\n\r\nconst AboutPage = ({ pristine, submitting, handleSubmit, updateProfile }) => {\r\n  return (\r\n    <Segment>\r\n      <Header dividing size='large' content='About Me' />\r\n      <p>Complete your profile to get the most out of this site</p>\r\n      <Form onSubmit={handleSubmit(updateProfile)}>\r\n        <Form.Group inline>\r\n          <label>Tell us your status: </label>\r\n          <Field\r\n            name='status'\r\n            component={RadioInput}\r\n            type='radio'\r\n            value='single'\r\n            label='Single'\r\n          />\r\n          <Field\r\n            name='status'\r\n            component={RadioInput}\r\n            type='radio'\r\n            value='relationship'\r\n            label='Relationship'\r\n          />\r\n          <Field\r\n            name='status'\r\n            component={RadioInput}\r\n            type='radio'\r\n            value='married'\r\n            label='Married'\r\n          />\r\n        </Form.Group>\r\n        <Divider />\r\n        <label>Tell us about yourself</label>\r\n        <Field name='about' component={TextArea} placeholder='About Me' />\r\n        <Field\r\n          name='interests'\r\n          component={SelectInput}\r\n          options={interests}\r\n          value='interests'\r\n          multiple={true}\r\n          placeholder='Select your interests'\r\n        />\r\n        <Field\r\n          width={8}\r\n          name='occupation'\r\n          type='text'\r\n          component={TextInput}\r\n          placeholder='Occupation'\r\n        />\r\n        <Field\r\n          width={8}\r\n          name='origin'\r\n          options={{ types: ['(regions)'] }}\r\n          component={PlaceInput}\r\n          placeholder='Country of Origin'\r\n        />\r\n        <Divider />\r\n        <Button\r\n          disabled={pristine || submitting}\r\n          size='large'\r\n          positive\r\n          content='Update Profile'\r\n        />\r\n      </Form>\r\n    </Segment>\r\n  )\r\n}\r\n\r\nexport default reduxForm({\r\n  form: 'userProfile',\r\n  enableReinitialize: true,\r\n  destroyOnUnmount: false\r\n})(AboutPage)\r\n","import React, { Component } from 'react'\r\nimport {\r\n  Image,\r\n  Segment,\r\n  Header,\r\n  Divider,\r\n  Grid,\r\n  Button,\r\n  Card,\r\n  Icon\r\n} from 'semantic-ui-react'\r\nimport { toastr } from 'react-redux-toastr'\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport Dropzone from 'react-dropzone'\r\nimport Cropper from 'react-cropper'\r\nimport 'cropperjs/dist/cropper.css'\r\nimport { uploadProfileImage, deletePhoto, setMainPhoto } from '../userActions'\r\n\r\nconst query = ({ auth }) => {\r\n  return [\r\n    {\r\n      collection: 'users',\r\n      doc: auth.uid,\r\n      subcollections: [{ collection: 'photos' }],\r\n      storeAs: 'photos'\r\n    }\r\n  ]\r\n}\r\n\r\nconst actions = {\r\n  uploadProfileImage,\r\n  deletePhoto,\r\n  setMainPhoto\r\n}\r\n\r\nconst mapState = state => ({\r\n  auth: state.firebase.auth,\r\n  profile: state.firebase.profile,\r\n  photos: state.firestore.ordered.photos,\r\n  loading: state.async.loading\r\n})\r\n\r\nclass PhotosPage extends Component {\r\n  state = {\r\n    files: [],\r\n    fileName: '',\r\n    cropResult: null,\r\n    image: {}\r\n  }\r\n\r\n  uploadImage = async () => {\r\n    try {\r\n      await this.props.uploadProfileImage(this.state.image, this.state.fileName)\r\n      this.cancelCrop()\r\n      toastr.success('Success!', 'Photo has been uploaded')\r\n    } catch (error) {\r\n      toastr.error('Oops', error.message)\r\n    }\r\n  }\r\n\r\n  handlePhotoDelete = photo => async () => {\r\n    try {\r\n      this.props.deletePhoto(photo)\r\n    } catch (error) {\r\n      toastr.error('Oops', error.message)\r\n    }\r\n  }\r\n\r\n  handleSetMainPhoto = photo => async () => {\r\n    try {\r\n      this.props.setMainPhoto(photo)\r\n    } catch (error) {\r\n      toastr.error('Oops', error.message)\r\n    }\r\n  }\r\n\r\n  cancelCrop = () => {\r\n    this.setState({\r\n      files: [],\r\n      image: {}\r\n    })\r\n  }\r\n\r\n  cropImage = () => {\r\n    if (typeof this.refs.cropper.getCroppedCanvas() === 'undefined') return\r\n\r\n    this.refs.cropper.getCroppedCanvas().toBlob(blob => {\r\n      let imageUrl = URL.createObjectURL(blob)\r\n      this.setState({\r\n        cropResult: imageUrl,\r\n        image: blob\r\n      })\r\n    }, 'image/jpeg')\r\n  }\r\n\r\n  onDrop = files => {\r\n    this.setState({\r\n      files,\r\n      fileName: files[0].name\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { photos, profile, loading } = this.props\r\n    let filteredPhotos\r\n    if (photos) {\r\n      filteredPhotos = photos.filter(photo => {\r\n        return photo.url !== profile.photoURL\r\n      })\r\n    }\r\n    return (\r\n      <Segment>\r\n        <Header dividing size='large' content='Your Photos' />\r\n        <Grid>\r\n          <Grid.Row />\r\n          <Grid.Column width={4}>\r\n            <Header color='teal' sub content='Step 1 - Add Photo' />\r\n            <Dropzone onDrop={this.onDrop} multiple={false}>\r\n              <div style={{ paddingTop: '30px', textAlign: 'center' }}>\r\n                <Icon name='upload' size='huge' />\r\n                <Header content='Drop image here or click to add' />\r\n              </div>\r\n            </Dropzone>\r\n          </Grid.Column>\r\n          <Grid.Column width={1} />\r\n          <Grid.Column width={4}>\r\n            <Header sub color='teal' content='Step 2 - Resize image' />\r\n            {this.state.files[0] && (\r\n              <Cropper\r\n                style={{ height: 200, width: '100%' }}\r\n                ref='cropper'\r\n                src={this.state.files[0].preview}\r\n                aspectRatio={1}\r\n                viewMode={0}\r\n                dragMode='move'\r\n                guides={false}\r\n                scalable={true}\r\n                cropBoxMovable={true}\r\n                cropBoxResizable={true}\r\n                crop={this.cropImage}\r\n              />\r\n            )}\r\n          </Grid.Column>\r\n          <Grid.Column width={1} />\r\n          <Grid.Column width={4}>\r\n            <Header sub color='teal' content='Step 3 - Preview and Upload' />\r\n            {this.state.files[0] && (\r\n              <div>\r\n                <Image\r\n                  style={{ minHeight: '200px', minWidth: '200px' }}\r\n                  src={this.state.cropResult}\r\n                />\r\n                <Button.Group>\r\n                  <Button\r\n                    onClick={this.uploadImage}\r\n                    style={{ width: '100px' }}\r\n                    positive\r\n                    icon='check'\r\n                    loading={loading}\r\n                  />\r\n                  <Button\r\n                    disabled={loading}\r\n                    onClick={this.cancelCrop}\r\n                    style={{ width: '100px' }}\r\n                    icon='close'\r\n                  />\r\n                </Button.Group>\r\n              </div>\r\n            )}\r\n          </Grid.Column>\r\n        </Grid>\r\n\r\n        <Divider />\r\n        <Header sub color='teal' content='All Photos' />\r\n\r\n        <Card.Group itemsPerRow={5}>\r\n          <Card>\r\n            <Image src={profile.photoURL || '/assets/user.png'} />\r\n            <Button positive>Main Photo</Button>\r\n          </Card>\r\n          {photos &&\r\n            filteredPhotos.map(photo => (\r\n              <Card key={photo.id}>\r\n                <Image src={photo.url} />\r\n                <div className='ui two buttons'>\r\n                  <Button\r\n                    loading={loading}\r\n                    onClick={this.handleSetMainPhoto(photo)}\r\n                    basic\r\n                    color='green'\r\n                  >\r\n                    Main\r\n                  </Button>\r\n                  <Button\r\n                    onClick={this.handlePhotoDelete(photo)}\r\n                    basic\r\n                    icon='trash'\r\n                    color='red'\r\n                  />\r\n                </div>\r\n              </Card>\r\n            ))}\r\n        </Card.Group>\r\n      </Segment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(\r\n    mapState,\r\n    actions\r\n  ),\r\n  firestoreConnect(auth => query(auth))\r\n)(PhotosPage)\r\n","import React from 'react'\r\nimport {\r\n  Segment,\r\n  Header,\r\n  Form,\r\n  Divider,\r\n  Label,\r\n  Button,\r\n  Icon\r\n} from 'semantic-ui-react'\r\nimport {\r\n  combineValidators,\r\n  matchesField,\r\n  isRequired,\r\n  composeValidators\r\n} from 'revalidate'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport TextInput from '../../../app/common/form/TextInput'\r\n\r\nconst validate = combineValidators({\r\n  newPassword1: isRequired({ message: 'Please enter a password' }),\r\n  newPassword2: composeValidators(\r\n    isRequired({ message: 'Please confirm your new password' }),\r\n    matchesField('newPassword1')({ message: 'Passwords do not match' })\r\n  )()\r\n})\r\n\r\nconst AccountPage = ({\r\n  error,\r\n  invalid,\r\n  submitting,\r\n  handleSubmit,\r\n  updatePassword,\r\n  providerId\r\n}) => {\r\n  return (\r\n    <Segment>\r\n      <Header dividing size='large' content='Account' />\r\n      {providerId && providerId === 'password' && (\r\n        <div>\r\n          <Header color='teal' sub content='Change password' />\r\n          <p>Use this form to update your account settings</p>\r\n          <Form onSubmit={handleSubmit(updatePassword)}>\r\n            <Field\r\n              width={8}\r\n              name='newPassword1'\r\n              type='password'\r\n              pointing='left'\r\n              inline={true}\r\n              component={TextInput}\r\n              basic={true}\r\n              placeholder='New Password'\r\n            />\r\n            <Field\r\n              width={8}\r\n              name='newPassword2'\r\n              type='password'\r\n              inline={true}\r\n              basic={true}\r\n              pointing='left'\r\n              component={TextInput}\r\n              placeholder='Confirm Password'\r\n            />\r\n            {error && (\r\n              <Label basic color='red'>\r\n                {error}\r\n              </Label>\r\n            )}\r\n            <Divider />\r\n            <Button\r\n              disabled={invalid || submitting}\r\n              size='large'\r\n              positive\r\n              content='Update Password'\r\n            />\r\n          </Form>\r\n        </div>\r\n      )}\r\n\r\n      {providerId && providerId === 'facebook.com' && (\r\n        <div>\r\n          <Header color='teal' sub content='Facebook Account' />\r\n          <p>Please visit Facebook to update your account settings</p>\r\n          <Button type='button' color='facebook'>\r\n            <Icon name='facebook' />\r\n            Go to Facebook\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      {providerId && providerId === 'google.com' && (\r\n        <div>\r\n          <Header color='teal' sub content='Google Account' />\r\n          <p>Please visit Google to update your account settings</p>\r\n          <Button type='button' color='google plus'>\r\n            <Icon name='google plus' />\r\n            Go to Google\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </Segment>\r\n  )\r\n}\r\n\r\nexport default reduxForm({ form: 'account', validate })(AccountPage)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Grid } from 'semantic-ui-react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport SettingsNav from './SettingsNav'\r\nimport BasicPage from './BasicPage'\r\nimport AboutPage from './AboutPage'\r\nimport PhotosPage from './PhotosPage'\r\nimport AccountPage from './AccountPage'\r\nimport { updatePassword } from '../../auth/authActions'\r\nimport { updateProfile } from '../userActions'\r\n\r\nconst actions = {\r\n  updatePassword,\r\n  updateProfile\r\n}\r\n\r\nconst mapState = state => ({\r\n  providerId: state.firebase.auth.providerData[0].providerId,\r\n  user: state.firebase.profile\r\n})\r\n\r\nconst SettingsDashboard = ({\r\n  updatePassword,\r\n  providerId,\r\n  user,\r\n  updateProfile\r\n}) => {\r\n  return (\r\n    <Grid>\r\n      <Grid.Column width={12}>\r\n        <Switch>\r\n          <Redirect exact from='/settings' to='/settings/basic' />\r\n          <Route\r\n            path='/settings/basic'\r\n            render={() => (\r\n              <BasicPage initialValues={user} updateProfile={updateProfile} />\r\n            )}\r\n          />\r\n          <Route\r\n            path='/settings/about'\r\n            render={() => (\r\n              <AboutPage initialValues={user} updateProfile={updateProfile} />\r\n            )}\r\n          />\r\n          <Route path='/settings/photos' component={PhotosPage} />\r\n          <Route\r\n            path='/settings/account'\r\n            render={() => (\r\n              <AccountPage\r\n                updatePassword={updatePassword}\r\n                providerId={providerId}\r\n              />\r\n            )}\r\n          />\r\n        </Switch>\r\n      </Grid.Column>\r\n      <Grid.Column width={4}>\r\n        <SettingsNav />\r\n      </Grid.Column>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  mapState,\r\n  actions\r\n)(SettingsDashboard)\r\n"],"sourceRoot":""}